<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python【一】基础入门, Zero">
    <meta name="description" content="一个穿梭在0和1的世界里的小白">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Python【一】基础入门 | Zero</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>

<meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>





    <style type="text/css" lang="css"> #loading-container {
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center; /* loader页面消失采用渐隐的方式*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }

    .loading-image {
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }

    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }

    .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }

    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }

    @-webkit-keyframes rotate_pacman_half_up {
        0% {
            transform: rotate(270deg)
        }
        50% {
            transform: rotate(1turn)
        }
        to {
            transform: rotate(270deg)
        }
    }

    @keyframes rotate_pacman_half_up {
        0% {
            transform: rotate(270deg)
        }
        50% {
            transform: rotate(1turn)
        }
        to {
            transform: rotate(270deg)
        }
    }

    @-webkit-keyframes rotate_pacman_half_down {
        0% {
            transform: rotate(90deg)
        }
        50% {
            transform: rotate(0deg)
        }
        to {
            transform: rotate(90deg)
        }
    }

    @keyframes rotate_pacman_half_down {
        0% {
            transform: rotate(90deg)
        }
        50% {
            transform: rotate(0deg)
        }
        to {
            transform: rotate(90deg)
        }
    }

    @-webkit-keyframes pacman-balls {
        75% {
            opacity: .7
        }
        to {
            transform: translate(-100px, -6.25px)
        }
    }

    @keyframes pacman-balls {
        75% {
            opacity: .7
        }
        to {
            transform: translate(-100px, -6.25px)
        }
    }

    .loading-image div:nth-child(3), .loading-image div:nth-child(4), .loading-image div:nth-child(5), .loading-image div:nth-child(6) {
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }

    .loading-text {
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    @media only screen and (max-width: 500px) {
        .loading-text {
            font-size: 1.5rem;
        }
    }

    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }

    /* logo出现动画 */
    @-webkit-keyframes fadeInDown {
        0% {
            opacity: 0;
            -webkit-transform: translate3d(0, -100%, 0);
            transform: translate3d(0, -100%, 0)
        }
        100% {
            opacity: 1;
            -webkit-transform: none;
            transform: none
        }
    }

    @keyframes fadeInDown {
        0% {
            opacity: 0;
            -webkit-transform: translate3d(0, -100%, 0);
        }
    } </style>
<script> (function () {
        const loaded = function () {
            setTimeout(function () {
                const loader = document.getElementById("loading-container");
                loader.className = "fadeout";//使用渐隐的方法淡出loading page // document.getElementById("body-wrap").style.display="flex";
     setTimeout(function(){ loader.style.display="none"; },2500); },1000);//强制显示loading page 1s
     }; loaded(); })() </script>



<body>


    <div id="loading-container"><p class="loading-text">嘘~ 正在从服务器偷取页面 . . . </p>
        <div class="loading-image">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>


<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Zero</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Zero</div>
        <div class="logo-desc">
            
            一个穿梭在0和1的世界里的小白
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>





<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/14.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python【一】基础入门</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Python/">
                                <span class="chip bg-color">Python</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Python/" class="post-category">
                                Python
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-12-26
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    23.8k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    96 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p><strong>Python</strong>是“龟叔”Guido van Rossum在1989年圣诞节期间，为了打发无聊的圣诞节而编写的一个编程语言。</p>
<p><strong>Python</strong>是一种目前非常广泛使用的 <strong>解释型、交互式</strong>以及<strong>面向对象</strong>的高级编程语言。</p>
<p>它具有一下特点</p>
<ul>
<li>支持函数式和结构化编程以及OOP。</li>
<li>可以作为脚本语言,也可以编译为字节码以构建大型应用程序。</li>
<li>支持自动垃圾回收。</li>
<li>它提供了非常高级的动态数据类型并支持动态类型检查。</li>
</ul>
<p>话不多说,开始学习吧。</p>
<h3 id="Python编程模式"><a href="#Python编程模式" class="headerlink" title="Python编程模式"></a>Python编程模式</h3><h4 id="1-交互式编程"><a href="#1-交互式编程" class="headerlink" title="1. 交互式编程"></a>1. 交互式编程</h4><p>交互式编程是Python特有的一种编程方式。如下所示 只要电脑中安装了Python,在终端中输入<code>python</code>即可进入交互式编程模式。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">zero@Zero ~ % python
Python <span class="token number">3.11</span>.0 <span class="token punctuation">(</span>v3.11.0:deaf509e8f, Oct <span class="token number">24</span> <span class="token number">2022</span>, <span class="token number">14</span>:43:23<span class="token punctuation">)</span> <span class="token punctuation">[</span>Clang <span class="token number">13.0</span>.0 <span class="token punctuation">(</span>clang-1300.0.29.30<span class="token punctuation">)</span><span class="token punctuation">]</span> on darwin
Type <span class="token string">"help"</span>, <span class="token string">"copyright"</span>, <span class="token string">"credits"</span> or <span class="token string">"license"</span> <span class="token keyword">for</span> <span class="token function">more</span> information.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>可以看到我所安装的版本为3.11.0,这也是目前比较全新的版本。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> print<span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>通过<code>print()</code>为输出文本到控制台。会得到如下结果:</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> print<span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span>
Hello world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="2-脚本式编程"><a href="#2-脚本式编程" class="headerlink" title="2. 脚本式编程"></a>2. 脚本式编程</h4><p>这种就比较常见了,也是我们最常用的编程方式.</p>
<p>创建一个后缀为<code>.py</code>的文件。在该文件中写入以下源代码:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>然后通过python解释器来运行该文件。（假设您已经在环境变量中配置了Python解释器）</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">python test.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>产生以下结果:</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">Hello world<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>接下来让我们尝试另一种方式执行python文件,修改内容如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>然后我们对该文件赋予执行权限,然后直接执行该文件。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">chmod</span> +x test.py
./test.py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>同样会产生如下结果:</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">Hello world<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="Python基础规范"><a href="#Python基础规范" class="headerlink" title="Python基础规范"></a>Python基础规范</h3><h4 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h4><ol>
<li>不能以数字开头，不能出现中文。</li>
<li>命名以字母开头，包含数字，字母（区分大小写），下划线。</li>
<li>不能包含关键字，见名知意。</li>
</ol>
<p>详述命名规范如下:</p>
<ul>
<li><p>类: 类名称通常首字母为大写,私有类可以以<code>_</code>开头。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 公开类</span>
<span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
<span class="token comment"># 私有类</span>
<span class="token keyword">class</span> <span class="token class-name">_Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>函数: 函数名一律为小写,多个单词用<code>_</code>隔开。另外私有函数以<code>_</code>开头。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 公开函数</span>
<span class="token keyword">def</span> <span class="token function">sum_func</span><span class="token punctuation">(</span>var1<span class="token punctuation">,</span>var2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token comment"># 私有函数</span>
<span class="token keyword">def</span> <span class="token function">_avg_func</span><span class="token punctuation">(</span>var1<span class="token punctuation">,</span>var2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>变量及常量: 变量名使用全部小写,多个单词使用<code>_</code>隔开。而常量则使用全部大写,多个单词使用<code>_</code>隔开。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">num <span class="token operator">=</span> <span class="token number">20</span>
sex_flag <span class="token operator">=</span> <span class="token number">1</span>
MAX_NUM <span class="token operator">=</span> <span class="token number">9999</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h4><p>以下列表显示了 Python 关键字。这些是保留字，您不能将它们用作常量或变量或任何其他标识符名称。所有 Python 关键字仅包含小写字母。</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">assert</td>
<td align="center">finally</td>
<td align="center">or</td>
</tr>
<tr>
<td align="center">break</td>
<td align="center">for</td>
<td align="center">pass</td>
</tr>
<tr>
<td align="center">class</td>
<td align="center">from</td>
<td align="center">print</td>
</tr>
<tr>
<td align="center">continue</td>
<td align="center">global</td>
<td align="center">raise</td>
</tr>
<tr>
<td align="center">def</td>
<td align="center">if</td>
<td align="center">return</td>
</tr>
<tr>
<td align="center">del</td>
<td align="center">import</td>
<td align="center">try</td>
</tr>
<tr>
<td align="center">elif</td>
<td align="center">in</td>
<td align="center">while</td>
</tr>
<tr>
<td align="center">else</td>
<td align="center">is</td>
<td align="center">with</td>
</tr>
<tr>
<td align="center">except</td>
<td align="center">lambda</td>
<td align="center">yield</td>
</tr>
<tr>
<td align="center">and</td>
<td align="center">exec</td>
<td align="center">not</td>
</tr>
</tbody></table>
<h4 id="换行和缩进"><a href="#换行和缩进" class="headerlink" title="换行和缩进"></a>换行和缩进</h4><p>Python 不提供大括号来指示类和函数定义或流控制的代码块。代码块由行缩进表示，这是严格执行的。</p>
<p>缩进中的空格数是可变的，但块中的所有语句必须缩进相同的数量。例如:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> <span class="token number">10</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"True"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"False"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="多行语句"><a href="#多行语句" class="headerlink" title="多行语句"></a>多行语句</h4><p>Python中的表达式语句,通常以换行为结尾,但是可以通过换行符<code>\</code>来表示继续。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">total <span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">+</span> \
        <span class="token number">2000</span> <span class="token operator">+</span> \
        <span class="token number">3000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>[]、{} 或 () 括号内包含的语句不需要使用行继续符(<code>\</code>)。例如:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">days <span class="token operator">=</span> <span class="token punctuation">[</span>周一<span class="token punctuation">,</span>
        周二<span class="token punctuation">,</span>
        周三<span class="token punctuation">,</span>
        周四<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="单行多条语句"><a href="#单行多条语句" class="headerlink" title="单行多条语句"></a>单行多条语句</h4><p>可以通过<code>;</code>符号分割,在一行中编写多条表达式语句 例如:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">x <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>n <span class="token operator">=</span> <span class="token number">1001</span><span class="token punctuation">;</span>is_read <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p>Python中使用<code>#</code>符号表示为注释,解释器会忽略它们。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#第一行注释</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span> <span class="token comment">#第二行注释</span>


<span class="token comment"># 多行注释</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><blockquote>
<p>计算机顾名思义就是可以做数学计算的机器，因此，计算机程序理所当然地可以处理各种数值。但是，计算机能处理的远不止数值，还可以处理文本、图形、音频、视频、网页等各种各样的数据，不同的数据，需要定义不同的数据类型。</p>
</blockquote>
<p>在Python中有如下标准数据类型</p>
<ul>
<li>Number 数字<ul>
<li>int</li>
<li>float</li>
<li>complex</li>
<li>bool</li>
</ul>
</li>
<li>String 字符串</li>
<li>List   列表</li>
<li>Tuple  元组</li>
<li>Set    集合</li>
<li>Dictionary 字典</li>
</ul>
<h4 id="1-数字类型"><a href="#1-数字类型" class="headerlink" title="1. 数字类型"></a>1. 数字类型</h4><p>Python3中的所有整数都表示为长整数,因此没有单独的long类型。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">num1 <span class="token operator">=</span> <span class="token number">10</span>
num2 <span class="token operator">=</span> <span class="token number">100000000000000000000000000000000000000000000000</span>
num3 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">900</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>对于很大的数，例如<code>10000000000</code>，很难数清楚0的个数。Python允许在数字中间以<code>_</code>分隔。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">num1 <span class="token operator">=</span> 1_00_000_000<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>复数通常使用较少,这里就不做展示了</p>
<h4 id="2-字符串"><a href="#2-字符串" class="headerlink" title="2. 字符串"></a>2. 字符串</h4><p>Python中字符串是以单引号<code>''</code>或者双引号<code>""</code>或者三个单引号<code>''' '''</code>括起来的任意文本。该数据类型是所有编程语言中最重要最基本也是最常用的数据类型。</p>
<p>如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_name <span class="token operator">=</span> <span class="token string">"张三"</span>
nick_name <span class="token operator">=</span> <span class="token string">'李四'</span>
member_name <span class="token operator">=</span> <span class="token triple-quoted-string string">'''王五'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果在源文本中也有单引号,如<code>I'm "Ok"</code>那该如何表示,这个时候可以用转义字符<code>\</code>,如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">content <span class="token operator">=</span> <span class="token string">"I\'m \"Ok\""</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>会产生如下结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">I'm "Ok"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>转义字符<code>\</code>可以转义很多字符，比如<code>\n</code>表示换行，<code>\t</code>表示制表符，字符<code>\</code>本身也要转义，所以<code>\\</code>表示的字符就是<code>\</code>。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">text <span class="token operator">=</span> <span class="token string">"Hi \n今天天气真不错! \t你说呢?"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">Hi 
今天天气真不错! 	你说呢?<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>如果字符串里面有很多字符都需要转义，就需要加很多<code>\</code>，为了简化，Python还允许用<code>r''</code>表示<code>''</code>内部的字符串默认不转义。</p>
<p><strong>字符串截取</strong></p>
<p>Python中的字符串可以使用切片运算符<code>[:]</code>通过索引获取单个子集。索引从0开始,结尾为-1。如下:</p>
<p>字符切片规则和Go一样,遵循<code>左包含,右不包含</code>的原则。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Hello World"</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>      <span class="token comment">#输出整个字符串</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">#同样输入整个字符串</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">#输出索引为0的字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#输出索引为2的字符到索引为4字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#从索引为3的字符开始输出</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#输出到索引为2的字符</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span> <span class="token operator">+</span> <span class="token string">"Say"</span><span class="token punctuation">)</span>  <span class="token comment">#字符串拼接</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">str</span> <span class="token operator">+</span> <span class="token string">"\t"</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">#重复输出3遍</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>输出结果如下:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">Hello World
Hello World
H
llo
lo World
Hel
Hello WorldSay
Hello World	Hello World	Hello World	<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>字符串的拼接</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">greet <span class="token operator">=</span> <span class="token string">"Hi 你好 我的名字叫"</span>
name <span class="token operator">=</span> <span class="token string">"张三"</span>
<span class="token comment"># 第一种拼接方式</span>
speak <span class="token operator">=</span> greet <span class="token operator">+</span> name
<span class="token keyword">print</span><span class="token punctuation">(</span>speak<span class="token punctuation">)</span>

<span class="token comment"># 第二种拼接方式</span>
speak2 <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>greet<span class="token operator">+</span>name<span class="token punctuation">}</span></span><span class="token string">"</span></span>
<span class="token keyword">print</span><span class="token punctuation">(</span>speak2<span class="token punctuation">)</span>

<span class="token comment"># 第三种拼接方式 通过占位符格式化</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s%s"</span><span class="token operator">%</span><span class="token punctuation">(</span>greet<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>输出结果如下:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">Hi 你好 我的名字叫张三
Hi 你好 我的名字叫张三
Hi 你好 我的名字叫张三<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>需要注意的是,在Python中,字符串是无法通过<code>+</code>去拼接数字类型</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s1 <span class="token operator">=</span> <span class="token string">"name"</span> <span class="token operator">+</span> <span class="token number">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>运行程序后会得到如下错误:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">    s1 = "name" + 100
         ~~~~~~~^~~~~
TypeError: can only concatenate str (not "int") to str<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>字符串格式化</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 字符串格式化</span>
<span class="token comment"># s表示字符串</span>
<span class="token comment"># d表示十进制整数  2d表示该数字的长度为2位,如果不够则用空格填充</span>
<span class="token comment"># f表示浮点数 .2f 表示小数保留精度为两位小数  默认为保留6为小数</span>
<span class="token comment"># 如对数字 11.345 进行%7.2f格式化后, 最后的结果为  [空格][空格]11.35</span>
name <span class="token operator">=</span> <span class="token string">"Zero"</span>
age <span class="token operator">=</span> <span class="token number">18</span>
height <span class="token operator">=</span> <span class="token number">1.88</span>
address <span class="token operator">=</span> <span class="token string">"河北省"</span>
message <span class="token operator">=</span> <span class="token triple-quoted-string string">'''Hi 你好,我叫%s, 今年%d, 来自%s, 身高为%.2f厘米'''</span><span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>address<span class="token punctuation">,</span>height<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>针对不同数据类型,分别由不同的字符表示,如下表所示:</p>
<table>
<thead>
<tr>
<th align="left">转换</th>
<th align="left">意义</th>
<th align="left">笔记</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>'d'</code></td>
<td align="left">有符号整数十进制。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>'i'</code></td>
<td align="left">有符号整数十进制。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>'o'</code></td>
<td align="left">带符号的八进制值。</td>
<td align="left">(1)</td>
</tr>
<tr>
<td align="left"><code>'u'</code></td>
<td align="left">过时的类型 - 它与<code>'d'</code>.</td>
<td align="left">(6)</td>
</tr>
<tr>
<td align="left"><code>'x'</code></td>
<td align="left">带符号的十六进制（小写）。</td>
<td align="left">(2)</td>
</tr>
<tr>
<td align="left"><code>'X'</code></td>
<td align="left">带符号的十六进制（大写）。</td>
<td align="left">(2)</td>
</tr>
<tr>
<td align="left"><code>'e'</code></td>
<td align="left">浮点指数格式（小写）。</td>
<td align="left">(3)</td>
</tr>
<tr>
<td align="left"><code>'E'</code></td>
<td align="left">浮点指数格式（大写）。</td>
<td align="left">(3)</td>
</tr>
<tr>
<td align="left"><code>'f'</code></td>
<td align="left">浮点十进制格式。</td>
<td align="left">(3)</td>
</tr>
<tr>
<td align="left"><code>'F'</code></td>
<td align="left">浮点十进制格式。</td>
<td align="left">(3)</td>
</tr>
<tr>
<td align="left"><code>'g'</code></td>
<td align="left">浮点格式。如果指数小于 -4 或不小于精度，则使用小写指数格式，否则使用小数格式。</td>
<td align="left">(4)</td>
</tr>
<tr>
<td align="left"><code>'G'</code></td>
<td align="left">浮点格式。如果指数小于 -4 或不小于精度，则使用大写指数格式，否则使用小数格式。</td>
<td align="left">(4)</td>
</tr>
<tr>
<td align="left"><code>'c'</code></td>
<td align="left">单个字符（接受整数或单个字符串）。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>'r'</code></td>
<td align="left">字符串（使用 转换任何 Python 对象 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#repr"><code>repr()</code></a>）。</td>
<td align="left">(5)</td>
</tr>
<tr>
<td align="left"><code>'s'</code></td>
<td align="left">字符串（使用 转换任何 Python 对象 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/stdtypes.html#str"><code>str()</code></a>）。</td>
<td align="left">(5)</td>
</tr>
<tr>
<td align="left"><code>'a'</code></td>
<td align="left">字符串（使用 转换任何 Python 对象 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#ascii"><code>ascii()</code></a>）。</td>
<td align="left">(5)</td>
</tr>
<tr>
<td align="left"><code>'%'</code></td>
<td align="left">没有参数被转换，在结果中产生一个<code>'%'</code> 字符。</td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="3-布尔"><a href="#3-布尔" class="headerlink" title="3. 布尔"></a>3. 布尔</h4><p>**布尔(Bool)**值只有<code>True</code>和<code>False</code>,其实它们本质上就是对应1和0。如下所示:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">b1 <span class="token operator">=</span> <span class="token boolean">True</span>
b2 <span class="token operator">=</span> <span class="token boolean">False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b1 <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b2 <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">True
True
False
True<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>布尔值是控制结构的执行条件,通常会使用<code>and</code>、<code>or</code>、<code>not</code>运算。类比Java中的<code>||</code>、<code>&amp;&amp;</code>、<code>!</code>所以这里就不多说了。</p>
<h4 id="4-空值"><a href="#4-空值" class="headerlink" title="4. 空值"></a>4. 空值</h4><p>空值<code>None</code>是Python中的一个特殊的值。就如Java中的<code>Null</code>,Go中的<code>nil</code>。<code>None</code>不能理解为<code>0</code>因为<code>0</code>是有意义的。而<code>None</code>是一个特殊的空值。，</p>
<h4 id="5-列表"><a href="#5-列表" class="headerlink" title="5. 列表"></a>5. 列表</h4><p><strong>列表(List)<strong>是Python中非常常用的复合数据类型,它是一种</strong>有序</strong>的集合。如同Java中的<code>List</code>和Go中的<code>切片</code>。由<code>[]</code>符号包裹元素。</p>
<p>定义列表如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义一个空列表</span>
names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment"># 定义一个包含元素的列表</span>
names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token string">'王五'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>可以通过<code>len()</code>函数获取列表的元素数量</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">//</span><span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>注意哦,列表中的元素可以是不同类型的,没有强类型约束</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1.25</span><span class="token punctuation">,</span><span class="token string">"hello"</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>获取每一个元素可以通过索引进行获取。索引从0开始。列表的最后一个元素索引为<code>len(列表) - 1</code>。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">name <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment"># 获取第一个元素</span>
name <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># 获取第二个元素</span>
name <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># 获取最后一个元素</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果获取元素时,索引超出时则会报错,表示数组越界。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">names<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span>

<span class="token comment"># IndexError: list index out of range</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>列表是可变的,可以向尾部添加元素</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">names<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'赵六'</span><span class="token punctuation">)</span>
<span class="token comment"># ['张三', '李四', '王五', '赵六']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>列表函数详述</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 向列表末尾添加元素</span>
names<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"赵六"</span><span class="token punctuation">)</span>

<span class="token comment"># 在索引为2的位置 插入元素</span>
names<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"刘七"</span><span class="token punctuation">)</span>

<span class="token comment"># 修改指定位置的元素</span>
names<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'刘老七'</span>

<span class="token comment"># 删除指定的第一次出现的元素</span>
names<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span>

<span class="token comment"># 删除列表末尾的元素</span>
names<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 删除索引为1的元素</span>
names<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># 统计一个元素在列表中重复的数量</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 清空所有元素</span>
names<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>截取集合,与字符串的截取基本一致。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token string">'王五'</span><span class="token punctuation">,</span><span class="token string">'赵六'</span><span class="token punctuation">,</span><span class="token string">'杜七'</span><span class="token punctuation">]</span>

p <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>    <span class="token comment">#获取整个列表</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>

p <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>   <span class="token comment">#获取索引0-2的所有元素集合</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>

p <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>   <span class="token comment">#获取从索引1到最后所有元素集合</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>

p <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">#获取索引1-2的所有元素集合</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>

<span class="token comment"># 可以通过+ 来拼接集合</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>输出结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">['张三', '张三', '李四', '王五', '赵六', '杜七']
['张三', '张三', '李四']
['张三', '李四', '王五', '赵六', '杜七']
['张三', '李四']
[1, 2, 3, 4, 5, 6]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>需要注意的是: <strong>在一个集合中截取到的新集合,都是一个全新的集合,对新集合的修改同样不影响旧集合</strong>,如下所示:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token string">'王五'</span><span class="token punctuation">,</span><span class="token string">'赵六'</span><span class="token punctuation">,</span><span class="token string">'杜七'</span><span class="token punctuation">]</span>
<span class="token comment"># 截取出一个新集合 ['张三', '李四']</span>
p <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment"># 获取新集合的元素数量</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 修改新集合第一个元素</span>
p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"张小三"</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>最终输出结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">2
['张小三', '李四']
['张三', '张三', '李四', '王五', '赵六', '杜七']<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>多维集合</strong></p>
<p>一个集合中的元素,同样也可以是一个集合,如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>那如果我们想获取数字3该如何获取,如下所示:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="6-元组"><a href="#6-元组" class="headerlink" title="6. 元组"></a>6. 元组</h4><p><strong>元组(Tuple)<strong>可以看成一种特殊的</strong>列表</strong>,它和列表不同的是: 一旦元组被定义好了,那么<strong>元组</strong>中的元素就不能被再次修改。被称之为<strong>只读列表</strong>。<strong>不可变</strong>就是元组的特点,正因为<strong>不可变</strong>所以它是安全的,如果需求同时可以用<strong>列表</strong>和<strong>元组</strong>都能完成,那么请优先选用<strong>元组</strong>。</p>
<p>定义元组如下: (元组使用<code>()</code>包裹元素)</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">week <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"MONDAY"</span><span class="token punctuation">,</span><span class="token string">"TUESDAY"</span><span class="token punctuation">,</span><span class="token string">"WEDNESDAY"</span><span class="token string">"THURSDAY"</span><span class="token punctuation">,</span><span class="token string">"FRIDAY"</span><span class="token punctuation">,</span><span class="token string">"SATURDAY"</span><span class="token punctuation">,</span><span class="token string">"SUNDAY"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>其他操作方式与列表一致,除了不能修改。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 获取第一个元素</span>
monday <span class="token operator">=</span> week<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token comment"># 获取周三至周四元素</span>
lis <span class="token operator">=</span> week<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>需要注意的时,如果定义元组时,只传入一个元素,那么解释器默认会认为你不需要元组,直接创建为单个元素类型的变量 如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">week2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"周一"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>week2<span class="token punctuation">)</span> <span class="token comment"># 输出为: 周一</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>如果硬要创建一个单个元素的元组的话 必须这么定义: 追加一个<code>,</code>借此来消除歧义。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">week2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"周一"</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>week2<span class="token punctuation">)</span> <span class="token comment"># 输出为: ('周一',)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="7-字典"><a href="#7-字典" class="headerlink" title="7. 字典"></a>7. 字典</h4><p>**字典(Dict)**是键值对结构.具有极快的查找速度。其实就是Java和Go中的map。</p>
<p>下面是对字典的使用:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 创建一个空字典</span>
user_map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment"># 创建一个带有元素的字典</span>
animal_map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'大熊猫'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'address'</span><span class="token punctuation">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'is_boy'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">}</span>

<span class="token comment"># 向字典中添加数据</span>
user_map<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"张三"</span>
user_map<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">18</span>

<span class="token comment"># 获取字典中的元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>user_map<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>user_map<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 根据key获取</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>user_map<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 获取字典的所有key</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>user_map<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#获取字典的所有value</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>字典中,key是不可以重复的</strong>,最后添加的相同key,会将之前的所覆盖。如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_map<span class="token punctuation">[</span><span class="token string">'nike_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'离离艾'</span>
user_map<span class="token punctuation">[</span><span class="token string">'nike_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'海问香'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>user_map<span class="token punctuation">[</span><span class="token string">'nike_name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 输出 '海问香'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>获取数据时,<strong>如果Key不存在,则会直接报错</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>user_map<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">#    print(user_map["name"])</span>
<span class="token comment">#          ~~~~~~~~^^^^^^^^</span>
<span class="token comment"># KeyError: 'name'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果要优雅的获取数据,有两种方法,一是通过<code>in</code>判断key是否存在:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">}</span>
ok <span class="token operator">=</span> <span class="token string">'name'</span> <span class="token keyword">in</span> user_map
<span class="token keyword">print</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token comment"># True</span>

ok <span class="token operator">=</span> <span class="token string">'age'</span> <span class="token keyword">in</span> user_map
<span class="token keyword">print</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token comment"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>第二种是通过dict的<code>get()</code>函数获取元素,如果key不存在则会返回<code>None</code>,或者自己指定替补的值。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">}</span>
name <span class="token operator">=</span> user_map<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment"># 123</span>
age <span class="token operator">=</span> user_map<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>  <span class="token comment"># None</span>
age <span class="token operator">=</span> user_map<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token string">"default_age"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>  <span class="token comment"># default_age</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>get(key,defaultValue)</code>如果key不存在,则返回<code>defaultValue</code>。</p>
<p><strong>删除元素</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 根据key 删除元素</span>
user_map<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>


user_map<span class="token punctuation">[</span><span class="token string">'key'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"123"</span>
user_map<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"123"</span>
user_map<span class="token punctuation">[</span><span class="token string">'ages'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"123"</span>
<span class="token comment"># 删除并返回最后添加的元素</span>
item <span class="token operator">=</span> user_map<span class="token punctuation">.</span>popitem<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token comment"># ('ages', '123')</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>获取字典视图</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">items <span class="token operator">=</span> user_map<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>mapping<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 获取到字典的所有key</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>mapping<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 获取到字典的所有value</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>mapping<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 在视图中根据key获取元素</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>清空字典</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_map<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>修改或添加元素 update()</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_map<span class="token punctuation">[</span><span class="token string">'new_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"王五"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>user_map<span class="token punctuation">)</span>  <span class="token comment">#{'new_name': '王五'}</span>
user_map<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'new_name'</span><span class="token punctuation">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'new_age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>user_map<span class="token punctuation">)</span>  <span class="token comment">#{'new_name': '张三', 'new_age': 19}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果元素已存在,则进行替换,不存在则进行添加。</p>
<p><strong>获取或添加元素-setdefault(key,defaultValue)</strong></p>
<p>如果key在字典中,则返回对应的value，反之不存在的话,则插入一对元素,key一样,但是value为指定的值</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
user_map<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">"new_value"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="8-Set"><a href="#8-Set" class="headerlink" title="8. Set"></a>8. Set</h4><p><code>Set</code>也是一组元素的集合,但是不能存储重复的元素。</p>
<p>定义Set需要传入一个集合。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义一个空Set</span>
s1 <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 定义一个Set 传入一个集合作为元素序列</span>
s2 <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># {1, 2, 3, 4, 5}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>重复的元素将会被自动去除,只保留一份。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 添加元素</span>
s1<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>

<span class="token comment"># 移除元素</span>
s1<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span>
<span class="token comment"># 随机移除一个元素</span>
s1<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="变量与常量"><a href="#变量与常量" class="headerlink" title="变量与常量"></a>变量与常量</h3><h4 id="1-变量"><a href="#1-变量" class="headerlink" title="1. 变量"></a>1. 变量</h4><blockquote>
<p>变量的概念基本上和初中代数的方程变量是一致的，只是在计算机程序中，变量不仅可以是数字，还可以是任意数据类型。</p>
</blockquote>
<p>通过<code>=</code>赋值语句定义变量,定义变量的方式如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">#定义一个整型变量,它的值为1</span>

b <span class="token operator">=</span> <span class="token string">"abc"</span> <span class="token comment">#定义一个字符串变量,它的值为abc</span>

c <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment">#定义一个布尔变量,值为True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><strong>Python中支持同时为多个变量分配同一个值,如:</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> b <span class="token operator">=</span> c <span class="token operator">=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这里表示同时定义了三个变量,它们的值分别都为<code>1</code>。</p>
<p><strong>同时也支持同时为不同的变量分配不同的值,如:</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>f <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1.5</span><span class="token punctuation">,</span><span class="token string">"Hello"</span><span class="token punctuation">,</span><span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这里会根据变量和值的位置进行依次匹配赋值。</p>
<p>在Python中,一个变量可以被反复的进行赋值操作,并且<strong>可以是不同类型的数据</strong>。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">123</span> <span class="token comment">#赋值整数类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>

a <span class="token operator">=</span> <span class="token string">"abc"</span> <span class="token comment">#赋值字符串类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这种变量的值类型不固定的语言被称之为<strong>动态语言</strong>,与之对应的是<strong>静态语言</strong>。<strong>静态语言</strong>在定义变量时,必须指定变量类型,并且赋值时,值类型必须与之匹配,否则编译器则会无法通过。</p>
<p>例如<code>Python</code>、<code>JavaScript</code>就是动态语言,具有强大的灵活性。而<code>Java</code>、<code>Go</code>等语言为静态语言。</p>
<p><strong>内存分配过程</strong></p>
<p>当我们定义一个字符</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token string">"ABC"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这时候,解释器做了如下过程:</p>
<ol>
<li>在内存中创建一个<code>ABC</code>的字面量</li>
<li>在内存中创建一个名为<code>a</code>的变量,再将<code>a</code>指向<code>ABC</code>。</li>
</ol>
<p>接下来我们来分析以下例子:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token string">"ABC"</span>
b <span class="token operator">=</span> a
a <span class="token operator">=</span> <span class="token string">"POI"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>最后输出的<code>b</code>是<code>ABC</code>呢还是<code>POI</code>?</p>
<p>结果是<code>ABC</code>。因为 <strong>Python中整型、字符串等等都是不可变的,改变它的值其实是创建了一个新的值,然后将指向改为新值身上,并不会修改旧值</strong>。所以我们这里对<code>a</code>进行重新赋值,并不会影响到<code>ABC</code>的内容,所以<code>b</code>依然是<code>ABC</code>。</p>
<h4 id="2-常量"><a href="#2-常量" class="headerlink" title="2. 常量"></a>2. 常量</h4><p>所谓常量就是不能变的变量，比如常用的数学常数π就是一个常量。在Python中，通常用全部大写的变量名表示常量：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">MAX_VALUE <span class="token operator">=</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>但事实上<code>MAX_VALUE</code>其实还是一个<code>变量</code>,并没有任何规则机制保护它的不可变,所以只是程序员之间一种约定俗成的规则。</p>
<h3 id="结构控制语句"><a href="#结构控制语句" class="headerlink" title="结构控制语句"></a>结构控制语句</h3><p>条件是对执行程序时发生的条件的预期，并指定根据条件采取的行动。</p>
<p>决策结构评估产生 TRUE 或 FALSE 作为结果的多个表达式。如果结果为 TRUE 或 FALSE，则您需要确定要采取的操作以及要执行的语句。</p>
<p>Python中只提供了If判断语句:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">grades <span class="token operator">=</span> <span class="token number">22</span>
<span class="token keyword">if</span> grades <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'及格'</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> grades <span class="token operator">&gt;</span> <span class="token number">90</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'成绩优异'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'成绩一般'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>if</code>也可以简写为以下写法:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">i <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">if</span> i<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"i"</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> <span class="token string">"a"</span>
<span class="token keyword">if</span> s<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"s"</span><span class="token punctuation">)</span>
l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">if</span> l<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"l"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>只要作为条件的变量是非零数值、非空字符串、非空list等 就判断为<code>True</code>否则为<code>False</code>。</p>
<h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><p>通常，语句是按顺序执行的：首先执行函数中的第一条语句，然后是第二条，依此类推。可能存在需要多次执行代码块的情况。</p>
<p>编程语言提供了允许更复杂的执行路径的各种控制结构。</p>
<h4 id="1-for"><a href="#1-for" class="headerlink" title="1.for"></a>1.for</h4><p><code>for</code>循环是使用非常频繁的一种循环体,通常我们遍历集合、元组等结构都是使用此结构.如下遍历一个集合的所有元素:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token string">'王五'</span><span class="token punctuation">,</span><span class="token string">'赵六'</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> name <span class="token keyword">in</span> names<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">张三
李四
王五
赵六<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>假如我们想求0-100之间的和,这个时候我们可以使用Python提供的<code>range()</code>函数,可以生成一个从0到指定整数的迭代序列。再使用<code>list()</code>进行转换即可。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">nums <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
<span class="token comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14...99,100]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">sum</span> <span class="token operator">+=</span> n
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span><span class="token comment"># 4950</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-while"><a href="#2-while" class="headerlink" title="2.while"></a>2.while</h4><p>第二种循环是while循环，只要条件满足，就不断循环，条件不满足时退出循环。比如我们要计算100以内所有数之和，也可以用while循环实现:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>
n <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> n <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">:</span>
    <span class="token builtin">sum</span> <span class="token operator">+=</span> n
    n<span class="token operator">+=</span><span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="3-迭代器"><a href="#3-迭代器" class="headerlink" title="3.迭代器"></a>3.迭代器</h4><p>Iterator是一个对象，它允许程序员遍历集合的所有元素，而不管其具体实现如何。在 Python 中，迭代器对象实现了两个方法，iter()和next()。</p>
<p><code>iter()</code>函数可以获取序列的迭代器,<code>next()</code>函数为获取下一个元素。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment"># 获取集合的迭代器</span>
nums_it <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>

<span class="token comment"># 获取迭代器下一个元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nums_it<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nums_it<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nums_it<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nums_it<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nums_it<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nums_it<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 报错:StopIteration</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果所有元素被迭代完成后,再次<code>next()</code>将会报错.</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>在Python中，定义一个函数要使用<code>def</code>语句，依次写出函数名、括号、括号中的参数和冒号<code>:</code>，然后，在缩进块中编写函数体，函数的返回值用<code>return</code>语句返回。</p>
<h4 id="1-定义函数"><a href="#1-定义函数" class="headerlink" title="1. 定义函数"></a>1. 定义函数</h4><p>我们以定义一个求绝对值的函数为例:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">abs</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> num
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token operator">-</span>num<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意: 如果没有<code>return</code>语句,函数执行完后也会后返回结果,只是结果为<code>None</code>。<code>return None</code>可以直接简写为<code>return</code>。</p>
<p>如果想定义一个空函数,可以使用<code>pass</code>语句:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><code>pass</code>语句什么都不做，那有什么用？实际上<code>pass</code>可以用来作为占位符，比如现在还没想好怎么写函数的代码，就可以先放一个<code>pass</code>，让代码能运行起来。</p>
<p><strong>对参数类型做检查</strong></p>
<p>对<code>num</code>关键字只允许整数和浮点数的类型做参数,可以通过内置函数<code>isinstance()</code>来校验</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token string">"文本"</span>
ok <span class="token operator">=</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token comment"># True</span>

<span class="token keyword">def</span> <span class="token function">abs</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">'参数类型不匹配'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> num
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token operator">-</span>num      
      
<span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token string">'asd'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">raise TypeError('参数类型不匹配')
TypeError: 参数类型不匹配<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>定义返回多个值的函数</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum_and_mul</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span>x <span class="token operator">*</span> y

sum_val<span class="token punctuation">,</span>mul_val <span class="token operator">=</span> sum_and_mul<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sum_val<span class="token punctuation">,</span>mul_val<span class="token punctuation">)</span> <span class="token comment"># 20 100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>运行后发现确实可以这样,但其实这是一种假象,本质上这种返回值其实是一个tuple,但是在语法上,返回一个tuple可以省略括号，而多个变量可以同时接收一个tuple，按位置赋给对应的值，所以，Python的函数返回多值其实就是返回一个tuple，但写起来更方便。</p>
<h4 id="2-函数的参数"><a href="#2-函数的参数" class="headerlink" title="2. 函数的参数"></a>2. 函数的参数</h4><p>Python的入参非常灵活,可以设置<strong>必选参数</strong>、<strong>默认参数</strong>、<strong>可变参数</strong>、<strong>和关键字参数</strong>。</p>
<h5 id="1-必选参数"><a href="#1-必选参数" class="headerlink" title="1.必选参数"></a>1.必选参数</h5><p>这个就不用多说了,就是正常定义的入参,在调用时按顺序入参即可。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="2-默认参数"><a href="#2-默认参数" class="headerlink" title="2.默认参数"></a>2.默认参数</h5><p>其实就是在形参上添加一个默认值,调用时不传入该值就是用默认值。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment"># 依然执行通过</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>这里其实就相当于<code>sum(10,20,10)</code>。</p>
<p>注意: <strong>默认参数必须放在必选参数的后面</strong>,否则解释器将会报错</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>z <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 编译不通过</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>默认参数有效了避免函数太过于复杂,这样让调用时更为简单。但是如果使用不当,也会有很大的坑,如下所示:</p>
<p>定义一个函数,然后设置一个默认参数为<strong>列表</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add_title</span><span class="token punctuation">(</span>L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  L<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> L<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>接着我们使用默认参数进行调用:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>add_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ['end']</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>似乎是没有问题,但是如果我们多次调用呢</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>add_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ['end']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>add_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ['end', 'end']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>add_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ['end', 'end', 'end']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>其实如果对值传递和引用传递熟悉的人也不难理解,简单点说就是:无论你调用几次,每次执行的<code>L</code>参数指向的都是用一个引用。</p>
<p>如果要修改这个案例,可以使用<code>None</code>来实现:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add_title</span><span class="token punctuation">(</span>L <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 判断L 是否是None</span>
    <span class="token keyword">if</span> L <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    L<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> L<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>add_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ['end']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>add_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ['end']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>add_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ['end']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>这样无论执行多少次,都没有问题。所以<strong>默认参数必须指向不可变对象</strong>。</p>
<h5 id="3-可变参数"><a href="#3-可变参数" class="headerlink" title="3.可变参数"></a>3.可变参数</h5><p>假设我们现在需要定义一个可接收n个参数的函数,我们可以通过集合或者元组实现:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">calc</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span>

calc<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
calc<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这样实现也没有问题,只是在调用时,需要套入集合或者元组。</p>
<p>但是如果使用可变参数,可以简化成这样:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token operator">*</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span>

calc<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>这种方式仅仅在参数前加了一个<code>*</code>号,在函数内部,参数<code>numbers</code>接受到的是一个tuple。因此函数代码完全不需要改变,但是在调用时,可以参入任意个参数,包括0个。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">calc<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
calc<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">351</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
calc<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果想要把一个list或者tuple作为可变参数,可以这样做:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
calc<span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>但是好像有点脱裤子放屁的意思了… 哈哈其实可以简写成这样,同样使用<code>*</code>号:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
calc<span class="token punctuation">(</span><span class="token operator">*</span>nums<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><code>*nums</code>表示把<code>nums</code>这个list的所有元素作为可变参数传进去。这种写法相当有用，而且很常见。</p>
<p><strong>可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple</strong></p>
<h5 id="4-关键字参数"><a href="#4-关键字参数" class="headerlink" title="4.关键字参数"></a>4.关键字参数</h5><p>关键字参数是允许你传入0到n个含有参数名的参数,也就是K-V键值对参数。这些K-V会自动组装成一个dict。通过<code>**</code>符号定义关键字参数:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义关键字参数</span>
<span class="token keyword">def</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token operator">**</span>user_info<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'user_info:</span><span class="token interpolation"><span class="token punctuation">{</span>user_info<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#调用关键字函数</span>
user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span><span class="token string">"age"</span> <span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span>
<span class="token comment"># 直接将字典作为关键字参数入参</span>
info<span class="token punctuation">(</span><span class="token operator">**</span>user<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>**user</code>表示把<code>user</code>这个dict的所有key-value用关键字参数传入到函数的<code>**user_info</code>参数，<code>user_info</code>将获得一个dict，注意<code>user_info</code>获得的dict是<code>user</code>的一份拷贝，对<code>user_info</code>的改动不会影响到函数外的<code>user</code>。</p>
<h5 id="5-命名关键字参数"><a href="#5-命名关键字参数" class="headerlink" title="5.命名关键字参数"></a>5.命名关键字参数</h5><p>命名关键字参数其实是用来限制关键字参数的,因为关键字参数可以任意传入无数参数,至于到底传了哪些,就得自己在内部检查。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token string">'city'</span> <span class="token keyword">in</span> kw<span class="token punctuation">:</span>
        <span class="token comment"># 有city参数</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">if</span> <span class="token string">'job'</span> <span class="token keyword">in</span> kw<span class="token punctuation">:</span>
        <span class="token comment"># 有job参数</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">'age:'</span><span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token string">'other:'</span><span class="token punctuation">,</span> kw<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>但是尽管做了检查,调用者依然可以传入大量无用的参数:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">person<span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> city<span class="token operator">=</span><span class="token string">'Beijing'</span><span class="token punctuation">,</span> addr<span class="token operator">=</span><span class="token string">'Chaoyang'</span><span class="token punctuation">,</span> zipcode<span class="token operator">=</span><span class="token number">123456</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如何使用命名规则限制呢,例如除了<code>name</code>和<code>age</code>必选参数外,只接受,<code>addr</code>和<code>sex</code>关键字参数 如下:</p>
<p>使用<code>*</code>符号进行参数分割,后面的为命名关键字参数,是必须要入参的。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">user_info</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">,</span>addr<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>addr<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>这个时候,调用该函数则必须传入<code>addr</code>和<code>sex</code>参数,否则无法通过。并且入参时要根据参数名入参。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">user_info<span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span>addr<span class="token operator">=</span><span class="token string">"北京"</span><span class="token punctuation">,</span>sex<span class="token operator">=</span><span class="token string">"男"</span><span class="token punctuation">)</span> <span class="token comment">#zhangsan 18 北京 男</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊分隔符<code>*</code>了：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> city<span class="token punctuation">,</span> job<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> args<span class="token punctuation">,</span> city<span class="token punctuation">,</span> job<span class="token punctuation">)</span>

person<span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span>city<span class="token operator">=</span><span class="token string">"123"</span><span class="token punctuation">,</span>job<span class="token operator">=</span><span class="token string">"555"</span><span class="token punctuation">)</span> <span class="token comment">#zhangsan 18 () 123 555</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意: <strong>如果没有可变参数，就必须加一个<code>*</code>作为特殊分隔符。如果缺少<code>*</code>，Python解释器将无法识别位置参数和命名关键字参数</strong>。</p>
<h5 id="6-组合参数"><a href="#6-组合参数" class="headerlink" title="6.组合参数"></a>6.组合参数</h5><p>定义函数时,以上五种参数可以组合使用,但是注意它们的使用顺序必须是: <strong>必选参数</strong>、<strong>默认参数</strong>、<strong>可变参数</strong>|<strong>命名关键字参数</strong>或<strong>关键字参数</strong>。</p>
<p>如下函数:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#   f1(必选参数,可变参数,命名关键字参数,默认参数)</span>
<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span>parm1<span class="token punctuation">,</span> parm2<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> name<span class="token punctuation">,</span> addr<span class="token punctuation">,</span>def_parm<span class="token operator">=</span><span class="token string">"默认值"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    f_str <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'''
        param1:</span><span class="token interpolation"><span class="token punctuation">{</span>parm1<span class="token punctuation">}</span></span><span class="token string">
        param2:</span><span class="token interpolation"><span class="token punctuation">{</span>parm2<span class="token punctuation">}</span></span><span class="token string">
        def_param:</span><span class="token interpolation"><span class="token punctuation">{</span>def_parm<span class="token punctuation">}</span></span><span class="token string">
        args:</span><span class="token interpolation"><span class="token punctuation">{</span>args<span class="token punctuation">}</span></span><span class="token string">
        name:</span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">
        addr:</span><span class="token interpolation"><span class="token punctuation">{</span>addr<span class="token punctuation">}</span></span><span class="token string">
    '''</span></span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f_str<span class="token punctuation">)</span>


f1<span class="token punctuation">(</span><span class="token string">"p1"</span><span class="token punctuation">,</span> <span class="token string">"p2"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"张三"</span><span class="token punctuation">,</span> addr<span class="token operator">=</span><span class="token string">"北京"</span><span class="token punctuation">,</span>def_parm<span class="token operator">=</span><span class="token string">'不使用默认值'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">param1:p1
param2:p2
def_param:不使用默认值
args:(1, 2, 3, 4)
name:张三
addr:北京<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>再如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#   f2(必选参数,命名关键字参数+默认参数,关键字参数)</span>
<span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span>parm1<span class="token punctuation">,</span> parm2<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> addr<span class="token punctuation">,</span>def_parm<span class="token operator">=</span><span class="token string">"默认值"</span><span class="token punctuation">,</span><span class="token operator">**</span>maps<span class="token punctuation">)</span><span class="token punctuation">:</span>
    f_str <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'''
        parm1:</span><span class="token interpolation"><span class="token punctuation">{</span>parm1<span class="token punctuation">}</span></span><span class="token string">
        parm2:</span><span class="token interpolation"><span class="token punctuation">{</span>parm2<span class="token punctuation">}</span></span><span class="token string">
        name:</span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">
        addr:</span><span class="token interpolation"><span class="token punctuation">{</span>addr<span class="token punctuation">}</span></span><span class="token string">
        def_param:</span><span class="token interpolation"><span class="token punctuation">{</span>def_parm<span class="token punctuation">}</span></span><span class="token string">
        maps:</span><span class="token interpolation"><span class="token punctuation">{</span>maps<span class="token punctuation">}</span></span><span class="token string">
    '''</span></span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f_str<span class="token punctuation">)</span>

f2<span class="token punctuation">(</span><span class="token string">'p1'</span><span class="token punctuation">,</span><span class="token string">'p2'</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"张三"</span><span class="token punctuation">,</span>addr<span class="token operator">=</span><span class="token string">"北京"</span><span class="token punctuation">,</span>def_parm<span class="token operator">=</span><span class="token string">"不使用默认值"</span><span class="token punctuation">,</span>nike_name<span class="token operator">=</span><span class="token string">"张三"</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行结果</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">parm1<span class="token punctuation">:</span>p1
parm2<span class="token punctuation">:</span>p2
name<span class="token punctuation">:</span>张三
addr<span class="token punctuation">:</span>北京
def_param<span class="token punctuation">:</span>不使用默认值
maps<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">'nike_name'</span><span class="token punctuation">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>虽然可以任意组合,但是尽量不要使用太多种类型参数,理解性会很差。</strong></p>
<h4 id="3-lambda函数"><a href="#3-lambda函数" class="headerlink" title="3. lambda函数"></a>3. lambda函数</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义lambda形式函数</span>
sum_func <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span> x <span class="token operator">+</span> y

<span class="token comment"># 调用该函数</span>
sum_val <span class="token operator">=</span> sum_func<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sum_val<span class="token punctuation">)</span> <span class="token comment"># 300</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><p>每个python文件都可以认为是一个模块,相关的代码分配到一个模块中,更加清晰了然。</p>
<h4 id="1-导入模块"><a href="#1-导入模块" class="headerlink" title="1. 导入模块"></a>1. 导入模块</h4><p>Python本身就内置了许多模块,直接导入即可使用。通用<code>import</code>关键字导入所需要用到的模块。如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python3</span>
<span class="token comment"># _*_ coding: utf-8 _*_</span>

<span class="token string">"test module"</span>

__author__ <span class="token operator">=</span> <span class="token string">'Zero'</span>

<span class="token comment"># 导入sys模块</span>
<span class="token keyword">import</span> sys

<span class="token keyword">def</span> <span class="token function">show_args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 使用sys模块 获取终端执行命令携带的参数</span>
    args <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv
    <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    show_args<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>第一行是标准注释,可以让该文件直接在Unix/Linux/Mac上运行,因为这些系统自带Python2。</p>
<p>第二行表示该文件本身用UTF-8编码。</p>
<p>第四行是一个普通字符串,python中所有的模块中的第一个字符串都默认为文档注释。</p>
<p>通过<code>import sys</code>导入sys模块后,我们就有了一个sys变量指向该模块,利用该变量就可以访问sys模块所有功能。</p>
<p>如: 获取<code>sys.argv</code>变量,该变量存储了命令行的所有参数,运行该文件<code>python xxx.py</code>:</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">zero@Zero learn02 % python model.py 
['model.py']
zero@Zero learn02 % python model.py username password
['model.py', 'username', 'password']<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意看这段代码:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    show_args<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>当我们在终端使用Python解释器运行模块文件时,解释器会把一个特殊变量<code>__name__</code>赋值为<code>__main__</code>,而如果其他模块导入该模块时不会做任何操作。所以这段话的意义就是如果我们是在终端运行则进入<code>if</code>执行相关代码,模块被导入并不会执行。一般用于运行测试。</p>
<h4 id="2-自定义模块并使用"><a href="#2-自定义模块并使用" class="headerlink" title="2. 自定义模块并使用"></a>2. 自定义模块并使用</h4><p>创建<code>xxx.py</code>文件,并编写一个很简单的公开函数:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">print_func</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>创建一个新模块,导入<code>xxx.py</code>模块并使用:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> zero_module
zero_module<span class="token punctuation">.</span>print_func<span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span> <span class="token comment"># Hello</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>多种导入方式如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 导入该模块并且运行模块</span>
<span class="token keyword">import</span> zero_module

<span class="token comment"># 导入多个模块</span>
<span class="token keyword">import</span> zero_module<span class="token punctuation">,</span>sys<span class="token punctuation">,</span>os

<span class="token comment"># 导入模块并且 设置别名</span>
<span class="token keyword">import</span> zero_module <span class="token keyword">as</span> zm
zm<span class="token punctuation">.</span>print_func<span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span>

<span class="token comment"># 从zero_module模块中导出print_func函数到当前模块</span>
<span class="token keyword">from</span> zero_module <span class="token keyword">import</span> print_func

<span class="token comment"># 导入zero_module的所有对象到当前模块</span>
<span class="token keyword">from</span> zero_module <span class="token keyword">import</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="3-作用域"><a href="#3-作用域" class="headerlink" title="3. 作用域"></a>3. 作用域</h4><p>在一个模块中,通常会定义许多变量和函数等,但有时候我们希望提供给别人用,而有的仅在该模块自己使用，这种权限控制在Python中是通过<code>_</code>前缀来实现.、</p>
<p>正常的函数和变量时公开的,如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">num <span class="token operator">=</span> <span class="token number">123</span>
text <span class="token operator">=</span> <span class="token string">"abc"</span>

<span class="token keyword">def</span> <span class="token function">user_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>类似于<code>__xx__</code>这种双下划线开头和双下划线后缀的变量被称之为特殊变量,同样可以被直接引用,但是有特殊用途。</p>
<p>私有变量和函数如下定义:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">_prefix <span class="token operator">=</span> <span class="token string">"Token_"</span>
_suffix <span class="token operator">=</span> <span class="token string">"_9501"</span>

<span class="token keyword">def</span> <span class="token function">_this_test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>之所以我们说，private函数和变量“不应该”被直接引用，而不是“不能”被直接引用，是因为Python并没有一种方法可以完全限制访问private函数或变量，但是，从编程习惯上不应该引用private函数或变量。</p>
<h3 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h3><h4 id="range"><a href="#range" class="headerlink" title="range()"></a>range()</h4><h4 id="list"><a href="#list" class="headerlink" title="list()"></a>list()</h4><h4 id="iter"><a href="#iter" class="headerlink" title="iter()"></a>iter()</h4><h4 id="reload"><a href="#reload" class="headerlink" title="reload()"></a>reload()</h4><p>将模块重新导入进当前模块</p>
<p>zero_module.py</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"zero_module init. "</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 导入该模块并且运行模块</span>
<span class="token keyword">import</span> zero_module

<span class="token comment"># 导入 reload函数</span>
<span class="token keyword">from</span> importlib <span class="token keyword">import</span> <span class="token builtin">reload</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"再次重新导入"</span><span class="token punctuation">)</span>
<span class="token builtin">reload</span><span class="token punctuation">(</span>zero_module<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">zero_module init. 
再次重新导入
zero_module init. <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="type"><a href="#type" class="headerlink" title="type()"></a>type()</h4><p>获取一个变量的class类型</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'int'&gt; </span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">12.12</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'float'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'str'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'bool'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'NoneType'&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="isinstance"><a href="#isinstance" class="headerlink" title="isinstance()"></a>isinstance()</h4><p>判断一个实例对象是否继承指定的类</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Animal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>Cat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Animal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>判断一个对象是否继承其中一个类,只要是其中一个则为<code>True</code></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#True</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="issubclass"><a href="#issubclass" class="headerlink" title="issubclass()"></a>issubclass()</h4><p>判断一个类是否是另一个类或者派生类</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="dir"><a href="#dir" class="headerlink" title="dir()"></a>dir()</h4><p>dir()函数返回一个字符串列表,列表内容是本模块中所有定义过的名称,如：变量名、函数名等:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">_name <span class="token operator">=</span> <span class="token string">"zero"</span>
addr <span class="token operator">=</span> <span class="token string">"北京"</span>

<span class="token keyword">def</span> <span class="token function">name_show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">['__annotations__', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', '_name', 'addr', 'name_show']<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="hasattr"><a href="#hasattr" class="headerlink" title="hasattr()"></a>hasattr()</h4><p>判断对象是否有指定的属性或方法</p>
<h4 id="setattr"><a href="#setattr" class="headerlink" title="setattr()"></a>setattr()</h4><p>给对象设置属性</p>
<h4 id="getattr"><a href="#getattr" class="headerlink" title="getattr()"></a>getattr()</h4><p>获取对象的属性</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token boolean">None</span>
    
p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 判断对象是否有 指定属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"run"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#False</span>

<span class="token comment"># 为对象设置一个属性</span>
<span class="token builtin">setattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>

<span class="token comment"># 获取对象的属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token comment"># 如果获取的属性不存在,则会报错</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">'addr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># AttributeError: 'Person' object has no attribute 'addr'</span>

<span class="token comment"># 可以获取是指定默认值,不存在就以默认值为准</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">'addr'</span><span class="token punctuation">,</span><span class="token string">'上海'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 上海</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h3><h4 id="1-定义对象"><a href="#1-定义对象" class="headerlink" title="1. 定义对象"></a>1. 定义对象</h4><p>首先创建一个最简单的类。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>然后实例化此类,并且绑定实例变量</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"张三"</span>
p1<span class="token punctuation">.</span>addr <span class="token operator">=</span> <span class="token string">"广州"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>addr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">张三
广州<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="2-类方法"><a href="#2-类方法" class="headerlink" title="2. 类方法"></a>2. 类方法</h4><p>类都有一个特殊的方法<code>__init__</code>,被称为类的构造函数或初始化方法，当创建了这个类的实例时就会调用该方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 初始化方法,通过该方法实现类构造</span>
<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>addr<span class="token punctuation">)</span><span class="token punctuation">:</span>
  self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
  self<span class="token punctuation">.</span>addr <span class="token operator">=</span> addr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>self</code>表示类的当前实例,所有类方法第一个参数都是此参数,但是在调用时不需要传入。</p>
<p>当实现了该方法后,如果需要传入多个参数,那么在实例化时则需要对应传入所需参数,否则执行报错:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#Person.__init__() missing 2 required positional arguments: 'name' and 'addr'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python">p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'广州'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>name<span class="token punctuation">,</span>p1<span class="token punctuation">.</span>addr<span class="token punctuation">)</span> <span class="token comment"># 张三 广州</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>和普通的函数相比，在类中定义的函数只有一点不同，就是第一个参数永远是实例变量<code>self</code>，并且，调用时，不用传递该参数。除此之外，类的方法和普通函数没有什么区别，所以，你仍然可以用默认参数、可变参数、关键字参数和命名关键字参数。</p>
<p>定义普通方法</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name<span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">show_info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s, %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>

p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'小张'</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span>
p1<span class="token punctuation">.</span>show_info<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 小张, 88</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="3-属性封装"><a href="#3-属性封装" class="headerlink" title="3. 属性封装"></a>3. 属性封装</h4><p>如果要让内部属性不被外部访问，可以把属性的名称前加上两个下划线<code>__</code>，在Python中，实例的变量名如果以<code>__</code>开头，就变成了一个私有变量（private），只有内部可以访问，外部不能访问。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__name<span class="token operator">=</span> name
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">show_info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s, %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>__name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>__age<span class="token punctuation">)</span><span class="token punctuation">)</span>

p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'小张'</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>__name<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">Traceback (most recent call last):
  File "/usr/local/myproject/python-project/Coder/learn02/model.py", line 13, in &lt;module&gt;
    print(p1.__name)
          ^^^^^^^^^
AttributeError: 'Person' object has no attribute '__name'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如要外部要获取实例变量可以添加<code>getxxx()</code>方法:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__name<span class="token operator">=</span> name
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">show_info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s, %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>__name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>__age<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">get_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__name

p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'小张'</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>get_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 小张</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="4-继承"><a href="#4-继承" class="headerlink" title="4. 继承"></a>4. 继承</h4><p>Python同样支持OOP程序设计中的类继承特性: <strong>定义一个class时,可以继承于现有的class,新定义的类被称为子类,被继承者被称为父类</strong>。</p>
<p>比如我们定义一个<code>Animal</code>类:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Animal is running...."</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><code>Animal(object):</code>:可以直接简写为<code>Animal:</code>,因为所有的类都继承自于object。</p>
<p>然后定义两个子类,分别继承<code>Animal</code></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>对于<code>Dog</code>来说，<code>Animal</code>就是它的父类，对于<code>Animal</code>来说，<code>Dog</code>就是它的子类。<code>Cat</code>和<code>Dog</code>类似。</p>
<p>继承有什么好处？最大的好处是子类获得了父类的全部功能。由于<code>Animial</code>实现了<code>run()</code>方法，因此，<code>Dog</code>和<code>Cat</code>作为它的子类，什么事也没干，就自动拥有了<code>run()</code>方法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
cat <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
cat<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">Animal is running....
Animal is running....<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>显然,两个子类都执行的父类所定义的<code>run</code>方法。</p>
<h4 id="5-多态"><a href="#5-多态" class="headerlink" title="5. 多态"></a>5. 多态</h4><p>由子类重写了父类的方法,然后执行时则会执行子类重写后的方法被称之为多态。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Dog is running...."</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Cat is running...."</span><span class="token punctuation">)</span>

dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
cat <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
cat<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">Dog <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Cat <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>当子类和父类都存在相同的<code>run()</code>方法时，我们说，子类的<code>run()</code>覆盖了父类的<code>run()</code>，在代码运行的时候，总是会调用子类的<code>run()</code>。这样，我们就获得了继承的另一个好处：多态。</p>
<p>判断一个变量是否是某个类型可以用<code>isinstance()</code>判断：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>dog<span class="token punctuation">,</span>Dog<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>dog<span class="token punctuation">,</span>Animal<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">True
True<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>可以看到,<code>Dog</code>本身也属于<code>Animal</code>类,因为<code>Dog</code>本身就是从<code>Animal</code>类继承下来的。</p>
<p>注意: 在这里<code>Dog</code>可以是<code>Animal</code>,但是反过来<code>Animal</code>可不属于<code>Dog</code>类哦~</p>
<p><strong>对于静态语言（例如Java）来说，如果需要传入<code>Animal</code>类型，则传入的对象必须是<code>Animal</code>类型或者它的子类，否则，将无法调用<code>run()</code>方法。</strong></p>
<p><strong>对于Python这样的动态语言来说，则不一定需要传入<code>Animal</code>类型。我们只需要保证传入的对象有一个<code>run()</code>方法就可以了。</strong></p>
<p>如下:</p>
<p>定义一个函数,参数为<code>Animal</code>类或子类,然后在函数内执行它的<code>run</code>方法:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">show_animal</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    animal<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>接下来执行时分别传入不同的子类:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">show_animal<span class="token punctuation">(</span>Animal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
show_animal<span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
show_animal<span class="token punctuation">(</span>Cat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">Animal <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Dog <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Cat <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果传入一个没有继承<code>Animal</code>类,但是也有<code>run</code>方法的类,Python同样也是可以执行的:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Duck</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Duck is running...."</span><span class="token punctuation">)</span>
show_animal<span class="token punctuation">(</span>Duck<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行结果:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">Duck <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这就是动态语言的“鸭子类型”，它并不要求严格的继承体系，一个对象只要“看起来像鸭子，走起路来像鸭子”，那它就可以被看做是鸭子。</p>
<h4 id="6-获取对象类型"><a href="#6-获取对象类型" class="headerlink" title="6. 获取对象类型"></a>6. 获取对象类型</h4><p>当我们获取到一个对象实例后,如何直到这个实例是什么类型,又有哪些方法属性呢?</p>
<ul>
<li><p>type()</p>
<p>首先,可以通过<code>type()</code>内置函数获取到对象的class,基本类型也可以使用该函数:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'int'&gt; </span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">12.12</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'float'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'str'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'bool'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'NoneType'&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>自定义的class自然也可以:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Animal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class '__main__.Animal'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class '__main__.Dog'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Cat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class '__main__.Cat'&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果一个变量指向函数或者类，也可以用<code>type()</code>判断：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">my_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>my_func<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># &lt;class 'function'&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>但是<code>type()</code>函数返回的是什么类型呢？它返回对应的Class类型。如果我们要在<code>if</code>语句中判断，就需要比较两个变量的type类型是否相同：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">int</span><span class="token punctuation">)</span>	<span class="token comment">#True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">#True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">type</span><span class="token punctuation">(</span>Cat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果要判断一个对象是否是函数则需要使用<code>types</code>模块中的常量:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 判断是否是一个函数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>my_func<span class="token punctuation">)</span> <span class="token operator">==</span> types<span class="token punctuation">.</span>FunctionType<span class="token punctuation">)</span> <span class="token comment"># True</span>

<span class="token comment"># 判断是否是一个内置函数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">)</span> <span class="token operator">==</span> types<span class="token punctuation">.</span>BuiltinFunctionType<span class="token punctuation">)</span> <span class="token comment"># True</span>

<span class="token comment"># 判断是否是一个Lambda函数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">)</span> <span class="token operator">==</span> types<span class="token punctuation">.</span>LambdaType<span class="token punctuation">)</span> <span class="token comment"># True</span>

<span class="token comment"># 判断是否是一个方法</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>run<span class="token punctuation">)</span> <span class="token operator">==</span> types<span class="token punctuation">.</span>MethodType<span class="token punctuation">)</span> <span class="token comment"># True</span>

<span class="token comment"># 判断是否是一个内置方法</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'asd'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">)</span> <span class="token operator">==</span> types<span class="token punctuation">.</span>BuiltinMethodType<span class="token punctuation">)</span> <span class="token comment"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>isinstance()</p>
<p>能用<code>type()</code>判断的基本类型也可以用<code>isinstance()</code>判断：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Dog<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Animal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>同时还能判断一个对象是否是多个类型中的其中一个:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">,</span><span class="token punctuation">(</span>Dog<span class="token punctuation">,</span>Cat<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">,</span><span class="token punctuation">(</span>Dog<span class="token punctuation">,</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>总是优先使用isinstance()判断类型，可以将指定类型及其子类“一网打尽”。</strong></p>
</li>
<li><p>dir()</p>
<p>如果要获得一个对象的所有属性和方法，可以使用<code>dir()</code>函数，它返回一个包含字符串的list，比如，获得一个str对象的所有属性和方法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'name', 'run']<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>类似<code>__xxx__</code>的属性和方法在Python中都是有特殊用途的，比如<code>__len__</code>方法返回长度。在Python中，如果你调用<code>len()</code>函数试图获取一个对象的长度，实际上，在<code>len()</code>函数内部，它自动去调用该对象的<code>__len__()</code>方法，所以，下面的代码是等价的：</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">&gt;&gt;&gt; len('ABC')
3
&gt;&gt;&gt; 'ABC'.__len__()
3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>当然只是获取到是没有意义的,配合<code>getattr()</code>、<code>setattr()</code>、<code>hasattr()</code>函数,我们能直接操作对象的状态。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token boolean">None</span>
    
p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 判断对象是否有 指定属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"run"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#False</span>

<span class="token comment"># 为对象设置一个属性</span>
<span class="token builtin">setattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>

<span class="token comment"># 获取对象的属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="7-实例属性和类属性"><a href="#7-实例属性和类属性" class="headerlink" title="7. 实例属性和类属性"></a>7. 实例属性和类属性</h4><p>Python是动态语言,可以根据实例绑定任意的<code>实例属性</code>,可以直接通过实例变量或者<code>self</code>变量进行绑定:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 通过self 绑定实例属性</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">)</span>
<span class="token comment"># 直接为对象绑定实例属性</span>
p<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">,</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment"># zhangsan 18</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>除了<code>实例属性</code>还有<code>类属性</code>,直接在class中定义,归本类所有:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    addr <span class="token operator">=</span> <span class="token string">"上海市"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>类属性属于本类所有,但是所有的实例对象都可以访问到</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>addr<span class="token punctuation">)</span> <span class="token comment"># 上海市</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>也可以直接使用类获取</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 也可以直接使用类获取</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>addr<span class="token punctuation">)</span> <span class="token comment"># 上海市</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>注意如下操作:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">p<span class="token punctuation">.</span>addr <span class="token operator">=</span> <span class="token string">"广州"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>addr<span class="token punctuation">)</span> <span class="token comment">#广州</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>addr<span class="token punctuation">)</span> <span class="token comment"># 上海市</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>这种操作并不是修改了类属性<code>addr</code>的值,而是在当前实例中绑定了一个<code>addr</code>的实例属性,<strong>由于实例属性的优先级比类属性的优先级高,所以在有同名属性的情况下,类属性会被屏蔽掉</strong>。因此这里的<code>addr</code>是不同的。</p>
<p>如果把实例属性删除掉,由于找不到<code>addr</code>的实例属性,则会找到类属性。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>addr<span class="token punctuation">)</span> <span class="token comment"># 上海市</span>

p<span class="token punctuation">.</span>addr <span class="token operator">=</span> <span class="token string">"广州"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>addr<span class="token punctuation">)</span> <span class="token comment"># 广州</span>

<span class="token keyword">del</span> p<span class="token punctuation">.</span>addr <span class="token comment"># 删除实例属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>addr<span class="token punctuation">)</span> <span class="token comment"># 上海市</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>从上面的例子可以看出，在编写程序的时候，千万不要对实例属性和类属性使用相同的名字，因为相同名称的实例属性将屏蔽掉类属性，但是当你删除实例属性后，再使用相同的名称，访问到的将是类属性。</strong></p>
<h3 id="面向对象的高级特性"><a href="#面向对象的高级特性" class="headerlink" title="面向对象的高级特性"></a>面向对象的高级特性</h3><h4 id="1-Slots"><a href="#1-Slots" class="headerlink" title="1. Slots"></a>1. Slots</h4><p>当我们定义一个class后,创建了对应的实例,可以对该实例绑定任何实例属性和实例方法.这就是动态语言的特性。</p>
<p>先定义类:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>然后实例化绑定一个实例属性:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"张三"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token comment">#输出:张三</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>还可以为实例绑定一个方法:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 定义好要绑定的方法</span>
<span class="token keyword">def</span> <span class="token function">set_age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
  self<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>然后使用<code>types</code>模块中的<code>MethodType</code>进行绑定:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> types <span class="token keyword">import</span> MethodType

<span class="token comment"># 进行绑定: 将set_age()方法 绑定到s实例上</span>
s<span class="token punctuation">.</span>set_age <span class="token operator">=</span> MethodType<span class="token punctuation">(</span>set_age<span class="token punctuation">,</span>s<span class="token punctuation">)</span>
<span class="token comment"># 调用方法,传入age</span>
s<span class="token punctuation">.</span>set_age<span class="token punctuation">(</span><span class="token number">88</span><span class="token punctuation">)</span>
<span class="token comment"># 最后输出一下age</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>age<span class="token punctuation">)</span>


<span class="token number">88</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意: 绑定给实例的方法,对其与实例是不生效的,是无法调用的。如下再实例化一个<code>Student</code>对象进行调用,则会报错:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span>set_age<span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">    s1.set_age(99)
    ^^^^^^^^^^
AttributeError: 'Student' object has no attribute 'set_age'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果想所有实例都可以调用,那么可以直接绑定到class中:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 将set_age方法 绑定到Student的类上</span>
Student<span class="token punctuation">.</span>set_age <span class="token operator">=</span> set_age<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>通常情况下，上面的<code>set_age</code>方法可以直接定义在class中，但动态绑定允许我们在程序运行的过程中动态给class加上功能，这在静态语言中很难实现。</p>
<p>而且,如果任何人都可以对一个class添加任何属性和方法,那么日后维护起来会非常的麻烦，Python在定义class时,可以定义一个特殊的<code>__slots__</code>变量,用来限制本类只能添加哪些属性:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span> <span class="token comment"># 用tuple 定义允许绑定的属性名称</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>这个时候如果绑定的属性名称,不存在于<code>slots</code>中,将会直接报出<code>AttributeError</code>异常:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>user_name <span class="token operator">=</span> <span class="token string">"zhangsan"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">    s.user_name = "zhangsan"
    ^^^^^^^^^^^
AttributeError: 'Student' object has no attribute 'user_name'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>使用<code>__slots__</code>要注意，<code>__slots__</code>定义的属性仅对当前类实例起作用，对继承的子类是不起作用的：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Member</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这个时候,针对<code>Member</code>进行属性绑定一样是可以的:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">m <span class="token operator">=</span> Member<span class="token punctuation">(</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span>nikename <span class="token operator">=</span> <span class="token string">"张三"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>nikename<span class="token punctuation">)</span>

<span class="token comment"># 张三</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果子类和父类都有<code>__slots__</code>属性,那么子类就会一并继承了父类的<code>__slots__</code>属性.</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Member</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span>

m <span class="token operator">=</span> Member<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 绑定父类允许的username属性</span>
m<span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">"张三"</span>
<span class="token comment"># 绑定本类允许的age属性</span>
m<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>username<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">张三
18<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>如果绑定的属性名不存在与本类和父类的<code>__slots__</code>属性中,一样抛出<code>AttributeError</code>。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">m<span class="token punctuation">.</span>nikename <span class="token operator">=</span> <span class="token string">"123"</span> 

<span class="token comment">#AttributeError: 'Member' object has no attribute 'nikename'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="2-Property"><a href="#2-Property" class="headerlink" title="2. Property"></a>2. Property</h4><p>简单来说该功能就是将<code>setter</code>和<code>getter</code>方法进行简化,调用的时候就像调用属性一样。</p>
<p>使用<code>@property</code>设置一个属性的<code>setter</code>和<code>getter</code>方法</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token comment"># age的getter方法</span>
    <span class="token comment"># 获取age</span>
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_age

    <span class="token comment"># age的setter方法</span>
    <span class="token comment"># 设置age</span>
    <span class="token decorator annotation punctuation">@age<span class="token punctuation">.</span>setter</span>
    <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"age not is number."</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> age <span class="token operator">&gt;</span> <span class="token number">100</span> <span class="token keyword">or</span> age <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"age value not match."</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_age <span class="token operator">=</span> age
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用方法:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>  <span class="token comment">#这里就相当于调用的age的setter方法</span>
age <span class="token operator">=</span> s<span class="token punctuation">.</span>age	<span class="token comment">#这里相当于调用的age的getter方法</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果只定义了<code>getter</code>方法,那就是只读属性。或者只定义了<code>setter</code>方法,那就是只写属性。</p>
<p>要特别注意：<strong>属性的方法名不要和实例变量重名。</strong></p>
<h3 id="日期时间处理"><a href="#日期时间处理" class="headerlink" title="日期时间处理"></a>日期时间处理</h3><p><code>datetime</code>是Python提供专门处理日期时间的模块,相比较<code>time</code>模块使用起来更为方便。</p>
<h4 id="获取当前日期时间"><a href="#获取当前日期时间" class="headerlink" title="获取当前日期时间"></a>获取当前日期时间</h4><p>注意: <code>datetime</code>模块还包含一个<code>datetime</code>类，通过<code>from datetime import datetime</code>导入的才是<code>datetime</code>这个类。我们通常使用的就是这个 <code>datetime</code>类。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime

<span class="token comment"># 获取当前日期时间</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#2023-01-01 15:14:04.390118</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># &lt;class 'datetime.datetime'&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>datetime.now()</code>返回当前日期和时间，其类型是<code>datetime</code>。</p>
<h4 id="获取指定日期和时间"><a href="#获取指定日期和时间" class="headerlink" title="获取指定日期和时间"></a>获取指定日期和时间</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 使用datetime构造方法 传入指定的年月日时分秒</span>
date <span class="token operator">=</span> datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 10:50:30</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="日期时间转时间戳"><a href="#日期时间转时间戳" class="headerlink" title="日期时间转时间戳"></a>日期时间转时间戳</h4><p>把一个<code>datetime</code>类型转换为timestamp只需要简单调用<code>timestamp()</code>方法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">date <span class="token operator">=</span> datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token comment"># 获取datetime的时间戳</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span>timestamp<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 1672541430.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>注意,在python中,时间戳是以秒为单位,如Java语言中是使用毫秒数,这种情况只需要➗1000就得到了python中对应的时间戳。</p>
<h4 id="时间戳转日期时间"><a href="#时间戳转日期时间" class="headerlink" title="时间戳转日期时间"></a>时间戳转日期时间</h4><p>要把timestamp转换为<code>datetime</code>，使用<code>datetime</code>提供的<code>fromtimestamp()</code>方法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">date <span class="token operator">=</span> datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token comment"># 获取datetime的时间戳</span>
times <span class="token operator">=</span> date<span class="token punctuation">.</span>timestamp<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 时间戳转datetime</span>
date2 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>fromtimestamp<span class="token punctuation">(</span>times<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 10:50:30</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="时间戳转UTC时间"><a href="#时间戳转UTC时间" class="headerlink" title="时间戳转UTC时间"></a>时间戳转UTC时间</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 时间戳转本地时间</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>fromtimestamp<span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>timestamp<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 15:31:57.586863</span>

<span class="token comment"># 时间戳转UTC时间</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>utcfromtimestamp<span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>timestamp<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 07:31:57.586870</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="本地时间转UTC时间"><a href="#本地时间转UTC时间" class="headerlink" title="本地时间转UTC时间"></a>本地时间转UTC时间</h4><p>本地时间是指系统设定时区的时间，例如北京时间是UTC+8:00时区的时间，而UTC时间指UTC+0:00时区的时间。</p>
<p>一个<code>datetime</code>类型有一个时区属性<code>tzinfo</code>，但是默认为<code>None</code>，所以无法区分这个<code>datetime</code>到底是哪个时区，除非强行给<code>datetime</code>设置一个时区：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 创建utc时区</span>
tz_utc <span class="token operator">=</span> timezone<span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span>

<span class="token comment"># 强制设置时区为utc</span>
now<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>tzinfo<span class="token operator">=</span>tz_utc<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果系统时区恰好是UTC+8:00，那么上述代码就是正确的，否则，不能强制设置为UTC+8:00时区。</p>
<h4 id="时区转换"><a href="#时区转换" class="headerlink" title="时区转换"></a>时区转换</h4><p>各时区之间互相转换</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime<span class="token punctuation">,</span>timedelta<span class="token punctuation">,</span>timezone

<span class="token comment"># 获取utc时间,并且再强制设置一下时区为utc</span>
u_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>utcnow<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span>tzinfo<span class="token operator">=</span>timezone<span class="token punctuation">.</span>utc<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>u_time<span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 11:05:06.987723+00:00</span>

<span class="token comment"># 将utc时间的时区转为北京时区</span>
bj_time <span class="token operator">=</span> u_time<span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span>timezone<span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bj_time<span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 19:06:18.183022+08:00</span>

<span class="token comment"># 将utc时间时区转为东京时区</span>
dj_time <span class="token operator">=</span> u_time<span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span>timezone<span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dj_time<span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 20:07:44.854664+09:00</span>

<span class="token comment"># 将北京时间时区转为东京时区</span>
dj_time_2 <span class="token operator">=</span> bj_time<span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span>timezone<span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dj_time_2<span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 20:08:43.664826+09:00</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>时区转换的关键在于，拿到一个<code>datetime</code>时，要获知其正确的时区，然后强制设置时区，作为基准时间。</p>
<p>利用带时区的<code>datetime</code>，通过<code>astimezone()</code>方法，可以转换到任意时区。</p>
<h4 id="日期时间和字符串转换"><a href="#日期时间和字符串转换" class="headerlink" title="日期时间和字符串转换"></a>日期时间和字符串转换</h4><p>python时间日期格式化符号详情</p>
<table>
<thead>
<tr>
<th align="center">符号</th>
<th align="center">说明</th>
<th align="left">举例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">%y</td>
<td align="center">两位数年份(后两位年份)</td>
<td align="left">(00-99)</td>
</tr>
<tr>
<td align="center">%C</td>
<td align="center">两位数年份(前两位年份)</td>
<td align="left">(00-99)</td>
</tr>
<tr>
<td align="center">%Y</td>
<td align="center">完整年份</td>
<td align="left">(000-9999)</td>
</tr>
<tr>
<td align="center">%m</td>
<td align="center">月份</td>
<td align="left">(01-12)</td>
</tr>
<tr>
<td align="center">%d</td>
<td align="center">天</td>
<td align="left">(01-31)</td>
</tr>
<tr>
<td align="center">%e</td>
<td align="center">天(单位数不包含0)</td>
<td align="left">(1-31)</td>
</tr>
<tr>
<td align="center">%H</td>
<td align="center">小时(24小时制)</td>
<td align="left">(0-23)</td>
</tr>
<tr>
<td align="center">%I</td>
<td align="center">小时(12小时制)</td>
<td align="left">(01-12)</td>
</tr>
<tr>
<td align="center">%M</td>
<td align="center">分钟</td>
<td align="left">(00-59)</td>
</tr>
<tr>
<td align="center">%S</td>
<td align="center">秒</td>
<td align="left">(00-59)</td>
</tr>
<tr>
<td align="center">%F</td>
<td align="center">年-月-日</td>
<td align="left">1892-01-01</td>
</tr>
<tr>
<td align="center">%D</td>
<td align="center">日/月/年</td>
<td align="left">01/01/92</td>
</tr>
<tr>
<td align="center">%r</td>
<td align="center">12+上午或下午</td>
<td align="left">06:43:30 PM</td>
</tr>
<tr>
<td align="center">%T</td>
<td align="center">时:分:秒</td>
<td align="left">18:45:13</td>
</tr>
<tr>
<td align="center">%R</td>
<td align="center">小时:分钟</td>
<td align="left">18:44</td>
</tr>
<tr>
<td align="center">%a</td>
<td align="center">本地时间简化星期</td>
<td align="left">Sun</td>
</tr>
<tr>
<td align="center">%A</td>
<td align="center">本地时间完整星期</td>
<td align="left">Sunday</td>
</tr>
<tr>
<td align="center">%b</td>
<td align="center">本地时间简化月份</td>
<td align="left">Jan</td>
</tr>
<tr>
<td align="center">%B</td>
<td align="center">本地时间完整月份</td>
<td align="left">January</td>
</tr>
<tr>
<td align="center">%c</td>
<td align="center">本地日期和时间</td>
<td align="left">Sun Jan  1 17:34:59 2023</td>
</tr>
<tr>
<td align="center">%j</td>
<td align="center">一年中的第几天</td>
<td align="left">(001-365)</td>
</tr>
<tr>
<td align="center">%u</td>
<td align="center">星期几</td>
<td align="left">(1-7)</td>
</tr>
<tr>
<td align="center">%w</td>
<td align="center">一周中的第几天(周一为第一天)</td>
<td align="left">(0-6)</td>
</tr>
<tr>
<td align="center">%p</td>
<td align="center">上午(AM)或下午(PM)</td>
<td align="left">AM</td>
</tr>
<tr>
<td align="center">%U</td>
<td align="center">一年中的第几个星期(星期天为星期的开始)</td>
<td align="left">(00-53)</td>
</tr>
<tr>
<td align="center">%W</td>
<td align="center">一年中的第几个星期(星期一为星期的开始)</td>
<td align="left">(00-53)</td>
</tr>
<tr>
<td align="center">%V</td>
<td align="center">一年中的第几个星期(基于周的年)</td>
<td align="left">(00-52)</td>
</tr>
<tr>
<td align="center">%x</td>
<td align="center">本地日期</td>
<td align="left">01/01/23</td>
</tr>
<tr>
<td align="center">%X</td>
<td align="center">本地时间</td>
<td align="left">17:42:52</td>
</tr>
<tr>
<td align="center">%Z</td>
<td align="center">当前时区名称</td>
<td align="left">GMT</td>
</tr>
<tr>
<td align="center">%%</td>
<td align="center">%符号本身</td>
<td align="left">%</td>
</tr>
</tbody></table>
<p>通过<code>datetime</code>的<code>strftime('fmt')</code> 进行格式化。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 17:53:35</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>如果要把一个字符串解析为<code>datetime</code>则需要通过<code>datetime</code>的<code>strptime()</code>方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">'2023-01-01 17:53:35'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token comment"># 2023-01-01 17:53:35</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># &lt;class 'datetime.datetime'&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="时间增加和递减"><a href="#时间增加和递减" class="headerlink" title="时间增加和递减"></a>时间增加和递减</h4><p>对<code>datetime</code>修改需要通过<code>timedelta</code>类来实现。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime<span class="token punctuation">,</span>timedelta

now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span>

<span class="token comment"># 增加一年</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>now <span class="token operator">+</span> timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">365</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 增加15个小时</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>now <span class="token operator">+</span> timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 减少半年</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>now <span class="token operator">-</span> timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="日历处理"><a href="#日历处理" class="headerlink" title="日历处理"></a>日历处理</h4><p>日历模块提供与日历相关的功能，包括打印给定月份或年份的文本日历的功能。</p>
<p>默认情况下，日历将星期一作为一周的第一天，将星期日作为最后一天。要更改此设置，请调用 calendar.setfirstweekday() 函数。</p>
<p><strong>获取指定年份的日历</strong></p>
<p>以多行字符串形式返回一年的日历。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>calendar<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span>w<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> l<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> m<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>2023表示年份,c为每月日历左右间隔距离,w为每日左右间隔字符数,l为每行文本上下间隔字符数,m表示每三个月日历为一行。</p>
<p>执行结果如下:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">                                      2023

      January                       February                       March
Mo Tu We Th Fr Sa Su          Mo Tu We Th Fr Sa Su          Mo Tu We Th Fr Sa Su
                   1                 1  2  3  4  5                 1  2  3  4  5
 2  3  4  5  6  7  8           6  7  8  9 10 11 12           6  7  8  9 10 11 12
 9 10 11 12 13 14 15          13 14 15 16 17 18 19          13 14 15 16 17 18 19
16 17 18 19 20 21 22          20 21 22 23 24 25 26          20 21 22 23 24 25 26
23 24 25 26 27 28 29          27 28                         27 28 29 30 31
30 31

       April                          May                           June
Mo Tu We Th Fr Sa Su          Mo Tu We Th Fr Sa Su          Mo Tu We Th Fr Sa Su
                1  2           1  2  3  4  5  6  7                    1  2  3  4
 3  4  5  6  7  8  9           8  9 10 11 12 13 14           5  6  7  8  9 10 11
10 11 12 13 14 15 16          15 16 17 18 19 20 21          12 13 14 15 16 17 18
17 18 19 20 21 22 23          22 23 24 25 26 27 28          19 20 21 22 23 24 25
24 25 26 27 28 29 30          29 30 31                      26 27 28 29 30

        July                         August                      September
Mo Tu We Th Fr Sa Su          Mo Tu We Th Fr Sa Su          Mo Tu We Th Fr Sa Su
                1  2              1  2  3  4  5  6                       1  2  3
 3  4  5  6  7  8  9           7  8  9 10 11 12 13           4  5  6  7  8  9 10
10 11 12 13 14 15 16          14 15 16 17 18 19 20          11 12 13 14 15 16 17
17 18 19 20 21 22 23          21 22 23 24 25 26 27          18 19 20 21 22 23 24
24 25 26 27 28 29 30          28 29 30 31                   25 26 27 28 29 30
31

      October                       November                      December
Mo Tu We Th Fr Sa Su          Mo Tu We Th Fr Sa Su          Mo Tu We Th Fr Sa Su
                   1                 1  2  3  4  5                       1  2  3
 2  3  4  5  6  7  8           6  7  8  9 10 11 12           4  5  6  7  8  9 10
 9 10 11 12 13 14 15          13 14 15 16 17 18 19          11 12 13 14 15 16 17
16 17 18 19 20 21 22          20 21 22 23 24 25 26          18 19 20 21 22 23 24
23 24 25 26 27 28 29          27 28 29 30                   25 26 27 28 29 30 31
30 31


Process finished with exit code 0
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>按月份获取日历</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>month<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">    January 2023
Mo Tu We Th Fr Sa Su
                   1
 2  3  4  5  6  7  8
 9 10 11 12 13 14 15
16 17 18 19 20 21 22
23 24 25 26 27 28 29
30 31<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>设置每周起始日</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 设置日历每周起始日期为周一</span>
calendar<span class="token punctuation">.</span>setfirstweekday<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 返回当前每周起始日期</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>firstweekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>calendar.isleap(year)</strong></p>
<p>是闰年返回 True，否则为 False。</p>
<p><strong>calendar.leapdays(y1,y2)</strong></p>
<p>返回在Y1，Y2两年之间的闰年总数。</p>
<p><strong>calendar.monthcalendar(year,month)</strong></p>
<p>返回一个整数的单层嵌套列表。每个子列表装载代表一个星期的整数。Year年month月外的日期都设为0;范围内的日子都由该月第几日表示，从1开始。</p>
<p><strong>calendar.monthrange(year,month)</strong></p>
<p>返回两个整数。第一个是该月的星期几的日期码，第二个是该月的日期码。日从0（星期一）到6（星期日）;月从1到12。</p>
<p><strong>calendar.weekday(year,month,day)</strong></p>
<p>返回给定日期的日期码。0（星期一）到6（星期日）。月份为 1（一月） 到 12（12月）。</p>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><h4 id="什么是异常"><a href="#什么是异常" class="headerlink" title="什么是异常?"></a>什么是异常?</h4><p>异常即是一个事件，该事件会在程序执行过程中发生，影响了程序的正常执行。一般情况下，在Python无法正常处理程序时就会发生一个异常。异常是Python对象，表示一个错误。当Python脚本发生异常时我们需要捕获处理它，否则程序会终止执行。</p>
<h4 id="异常捕获与处理"><a href="#异常捕获与处理" class="headerlink" title="异常捕获与处理"></a>异常捕获与处理</h4><p>通常每种编程语言都有自己的一套异常捕获处理方案.如Java中的<code>try..catch...finally</code>等,Python中使用如下语法处理:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"正常执行"</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> ZeroDivisionError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">fr"出现异常 message: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"执行完成"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>虽然语法有些不太一样,但基本上与Java中的一样。</p>
<p>即<code>try:</code>代码区域是可能会出现异常的业务代码。而<code>except</code>则是针对不同异常进行处理的区域。<code>finally</code>是最后总会被执行的代码区域。</p>
<p>上面代码运行后会产生一个除法运算错误:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">出现异常 message: division by zero
执行完成<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>同样可以捕获多个异常,然后分别处理:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"正常执行"</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"出现异常 message: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> ZeroDivisionError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"出现异常 message: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> RuntimeError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"出现异常 message: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"执行完成"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果没有错误,也可以在<code>except</code>块后面追加一个<code>else</code>代码块,如果没有任何异常触发,则会执行该代码块。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">5</span>
<span class="token keyword">except</span> ZeroDivisionError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"出现异常 message: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"没有捕获到任何异常."</span><span class="token punctuation">)</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"执行完成"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="异常类型"><a href="#异常类型" class="headerlink" title="异常类型"></a>异常类型</h4><p>Pyhton的错误也是一种<code>class</code>,所有的错误类型都继承自<code>BaseException</code>,所以如果说多个异常同时捕获时,需要注意它们的继承关系。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">except</span> BaseException <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"出现异常 message: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> RuntimeError<span class="token punctuation">:</span>
    <span class="token comment"># 这里永远不会执行到,因为RuntimeError也属于 BaseException的子类</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"执行完成"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>自定义异常</strong></p>
<p>通过创建一个新的异常类，程序可以命名它们自己的异常。异常应该是典型的继承自Exception类，通过直接或间接的方式。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 自定义异常类</span>
<span class="token comment"># 继承自于RuntimeError运行时异常</span>
<span class="token keyword">class</span> <span class="token class-name">BusinessException</span><span class="token punctuation">(</span>RuntimeError<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 通过构造函数,传入错误异常信息</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>args <span class="token operator">=</span> arg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>定义好之后,我们就可以在代码中使用该异常:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token comment"># ...业务代码</span>
    <span class="token comment"># 直接抛出异常,模拟异常</span>
    <span class="token keyword">raise</span> BusinessException<span class="token punctuation">(</span><span class="token string">"自定义业务异常,xxx数据出错"</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> BusinessException <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>e<span class="token punctuation">.</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过<code>raise</code>关键字,可以直接触发异常。</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">自定义业务异常,xxx数据出错<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>注意: 异常被捕获到后,依然可以继续往上抛出</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'invalid value: %s'</span> <span class="token operator">%</span> s<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token number">10</span> <span class="token operator">/</span> n

<span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        foo<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ValueError!'</span><span class="token punctuation">)</span>
        <span class="token keyword">raise</span> <span class="token comment"># 这里表示把捕获到的ValueError 异常 直接再抛出。</span>

bar<span class="token punctuation">(</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>raise</code>语句如果不带参数，就会把当前错误原样抛出。</p>
<h4 id="异常类型列表"><a href="#异常类型列表" class="headerlink" title="异常类型列表"></a>异常类型列表</h4><table>
<thead>
<tr>
<th>异常名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>BaseException</td>
<td>所有异常的基类</td>
</tr>
<tr>
<td>SystemExit</td>
<td>解释器请求退出</td>
</tr>
<tr>
<td>KeyboardInterrupt</td>
<td>用户中断执行(通常是输入^C)</td>
</tr>
<tr>
<td>Exception</td>
<td>常规错误的基类</td>
</tr>
<tr>
<td>StopIteration</td>
<td>迭代器没有更多的值</td>
</tr>
<tr>
<td>GeneratorExit</td>
<td>生成器(generator)发生异常来通知退出</td>
</tr>
<tr>
<td>StandardError</td>
<td>所有的内建标准异常的基类</td>
</tr>
<tr>
<td>ArithmeticError</td>
<td>所有数值计算错误的基类</td>
</tr>
<tr>
<td>FloatingPointError</td>
<td>浮点计算错误</td>
</tr>
<tr>
<td>OverflowError</td>
<td>数值运算超出最大限制</td>
</tr>
<tr>
<td>ZeroDivisionError</td>
<td>除(或取模)零 (所有数据类型)</td>
</tr>
<tr>
<td>AssertionError</td>
<td>断言语句失败</td>
</tr>
<tr>
<td>AttributeError</td>
<td>对象没有这个属性</td>
</tr>
<tr>
<td>EOFError</td>
<td>没有内建输入,到达EOF 标记</td>
</tr>
<tr>
<td>EnvironmentError</td>
<td>操作系统错误的基类</td>
</tr>
<tr>
<td>IOError</td>
<td>输入/输出操作失败</td>
</tr>
<tr>
<td>OSError</td>
<td>操作系统错误</td>
</tr>
<tr>
<td>WindowsError</td>
<td>系统调用失败</td>
</tr>
<tr>
<td>ImportError</td>
<td>导入模块/对象失败</td>
</tr>
<tr>
<td>LookupError</td>
<td>无效数据查询的基类</td>
</tr>
<tr>
<td>IndexError</td>
<td>序列中没有此索引(index)</td>
</tr>
<tr>
<td>KeyError</td>
<td>映射中没有这个键</td>
</tr>
<tr>
<td>MemoryError</td>
<td>内存溢出错误(对于Python 解释器不是致命的)</td>
</tr>
<tr>
<td>NameError</td>
<td>未声明/初始化对象 (没有属性)</td>
</tr>
<tr>
<td>UnboundLocalError</td>
<td>访问未初始化的本地变量</td>
</tr>
<tr>
<td>ReferenceError</td>
<td>弱引用(Weak reference)试图访问已经垃圾回收了的对象</td>
</tr>
<tr>
<td>RuntimeError</td>
<td>一般的运行时错误</td>
</tr>
<tr>
<td>NotImplementedError</td>
<td>尚未实现的方法</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>Python 语法错误</td>
</tr>
<tr>
<td>IndentationError</td>
<td>缩进错误</td>
</tr>
<tr>
<td>TabError</td>
<td>Tab 和空格混用</td>
</tr>
<tr>
<td>SystemError</td>
<td>一般的解释器系统错误</td>
</tr>
<tr>
<td>TypeError</td>
<td>对类型无效的操作</td>
</tr>
<tr>
<td>ValueError</td>
<td>传入无效的参数</td>
</tr>
<tr>
<td>UnicodeError</td>
<td>Unicode 相关的错误</td>
</tr>
<tr>
<td>UnicodeDecodeError</td>
<td>Unicode 解码时的错误</td>
</tr>
<tr>
<td>UnicodeEncodeError</td>
<td>Unicode 编码时错误</td>
</tr>
<tr>
<td>UnicodeTranslateError</td>
<td>Unicode 转换时错误</td>
</tr>
<tr>
<td>Warning</td>
<td>警告的基类</td>
</tr>
<tr>
<td>DeprecationWarning</td>
<td>关于被弃用的特征的警告</td>
</tr>
<tr>
<td>FutureWarning</td>
<td>关于构造将来语义会有改变的警告</td>
</tr>
<tr>
<td>OverflowWarning</td>
<td>旧的关于自动提升为长整型(long)的警告</td>
</tr>
<tr>
<td>PendingDeprecationWarning</td>
<td>关于特性将会被废弃的警告</td>
</tr>
<tr>
<td>RuntimeWarning</td>
<td>可疑的运行时行为(runtime behavior)的警告</td>
</tr>
<tr>
<td>SyntaxWarning</td>
<td>可疑的语法的警告</td>
</tr>
<tr>
<td>UserWarning</td>
<td>用户代码生成的警告</td>
</tr>
</tbody></table>
<h4 id="异常调用栈"><a href="#异常调用栈" class="headerlink" title="异常调用栈"></a>异常调用栈</h4><p>查看异常信息是调试错误必不可少的一步,如果错误信息不看的话,直接来来回回阅读自己的源码,将会浪费掉大量的时间。</p>
<p>创建一个python文件 <code>err.py</code>,写入以下源码:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> foo<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    bar<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>

main<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其实就是多个函数之间的调用,但是最终一定会触发异常的,异常信息如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"/usr/local/myproject/python-project/Coder/learn05/err.py"</span><span class="token punctuation">,</span> line <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">"/usr/local/myproject/python-project/Coder/learn05/err.py"</span><span class="token punctuation">,</span> line <span class="token number">8</span><span class="token punctuation">,</span> <span class="token keyword">in</span> main
    bar<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>
  File <span class="token string">"/usr/local/myproject/python-project/Coder/learn05/err.py"</span><span class="token punctuation">,</span> line <span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">in</span> bar
    <span class="token keyword">return</span> foo<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
           <span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span>
  File <span class="token string">"/usr/local/myproject/python-project/Coder/learn05/err.py"</span><span class="token punctuation">,</span> line <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">in</span> foo
    <span class="token keyword">return</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
           <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">^</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>
ZeroDivisionError<span class="token punctuation">:</span> division by zero<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>接下来我们来一步一步分析 每行错误信息的含义</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>第一行仅仅表示告诉我们这是错误跟踪信息。接下来看下一部分:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">File <span class="token string">"****/learn05/err.py"</span><span class="token punctuation">,</span> line <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
main<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>表示出错文件为<code>err.py</code>文件,在本文件的第10行代码中,所调用的<code>main()</code>函数中出现了异常。接下来继续跟踪:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">File <span class="token string">"/usr/local/myproject/python-project/Coder/learn05/err.py"</span><span class="token punctuation">,</span> line <span class="token number">8</span><span class="token punctuation">,</span> <span class="token keyword">in</span> main
bar<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>表示异常来源于在第8行代码中所调用的<code>bar('0')</code>函数中.继续:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">File <span class="token string">"/usr/local/myproject/python-project/Coder/learn05/err.py"</span><span class="token punctuation">,</span> line <span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">in</span> bar
<span class="token keyword">return</span> foo<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>显然,这里表示异常来源于 第5行代码中所调用的<code>foo(s)</code>函数中。继续追踪:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">File <span class="token string">"/usr/local/myproject/python-project/Coder/learn05/err.py"</span><span class="token punctuation">,</span> line <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">in</span> foo
<span class="token keyword">return</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">^</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>
ZeroDivisionError<span class="token punctuation">:</span> division by zero<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>可以看到,最终的异常原因来自于这行<code>return 10 / int(s)</code>,这是错误的源头,因为下面打印了最终的异常信息: <code>ZeroDivisionError: division by zero</code>。</p>
<p>根据错误类型<code>ZeroDivisionError</code>，我们判断，<code>int(s)</code>本身并没有出错，但是<code>int(s)</code>返回<code>0</code>，在计算<code>10 / 0</code>时出错，至此，找到错误源头。</p>
<h4 id="异常信息记录"><a href="#异常信息记录" class="headerlink" title="异常信息记录"></a>异常信息记录</h4><p>如果不捕获错误，自然可以让Python解释器来打印出错误堆栈，但程序也被结束了。既然我们能捕获错误，就可以把错误堆栈打印出来，然后分析错误原因，同时，让程序继续执行下去。</p>
<p>Python内置的<code>logging</code>模块可以非常容易地记录错误信息：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> logging

<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> foo<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        bar<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        logging<span class="token punctuation">.</span>exception<span class="token punctuation">(</span>e<span class="token punctuation">)</span>

main<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'END'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>同样是出错，但程序打印完错误信息后会继续执行，并正常退出：</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">ERROR:root:division by zero
Traceback (most recent call last):
  File "err_logging.py", line 13, in main
    bar('0')
  File "err_logging.py", line 9, in bar
    return foo(s) * 2
  File "err_logging.py", line 6, in foo
    return 10 / int(s)
ZeroDivisionError: division by zero
END<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过配置，<code>logging</code>还可以把错误记录到日志文件里，方便事后排查。</p>
<h4 id="断言调试"><a href="#断言调试" class="headerlink" title="断言调试"></a>断言调试</h4><p>在代码编写过程中,我们通常会写大量的<code>if...else</code>语句,有时候还需要使用<code>print()</code>函数输出一些数据来进行观察,但是当我们测试完毕后,又要将这些代码全部删掉,有些过于复杂,Python提供了一种方案,使用断言来解决。</p>
<p>如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">data_db_no <span class="token operator">=</span> <span class="token number">1001</span>
<span class="token keyword">assert</span> data_db_no <span class="token operator">==</span> <span class="token number">1003</span> <span class="token comment"># false，抛出断言异常</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"END"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><code>assert</code>关键字右侧必须是一个bool类型,而且只有值为<code>true</code>的时候才会正常执行,若是<code>false</code>则直接抛出<code>AssertionError</code>异常。</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">Traceback (most recent call last):
  File "****.py", line 3, in &lt;module&gt;
    assert data_db_no == 1003
AssertionError<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python">data_db_no <span class="token operator">=</span> <span class="token number">1001</span>
<span class="token keyword">assert</span> data_db_no <span class="token operator">==</span> <span class="token number">1001</span> <span class="token comment"># true，断言成功,放行。</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"END"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">END<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>运行python文件时时,可以使用<code>-O</code>参数来关闭<code>assert</code>功能.</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">python -O xxx.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>关闭后,所有的<code>assert</code>语句都将失效,你可以把它看成<code>pass</code>。</p>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><h4 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h4><p><strong>正则表达式</strong>是以一种指定的<strong>规则模式</strong>对文本进行<strong>匹配</strong>,它强大且灵活的语法能帮助你完成大量的文本处理工作,能够省掉大量的时间成本。如数据清洗、数据校验、字符替换、文本匹配、人工智能等诸多领域都大面积使用正则表达式。这里主要记录<strong>正则表达式</strong>的通用语法。然后会介绍在几种编程语言中如何使用。</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><h5 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h5><p>在正则表达式中,许多特殊字符都是有特殊含义的,直接使用是会被解析成语法糖,这个时候就需要进行转义.</p>
<p>如下,我们想要匹配<code>$1001</code>字符,但是<code>$</code>字符在正则表达式中是结尾符号.所以使用<code>\</code>进行转义</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token string">'$'</span>  <span class="token comment">#错误</span>
<span class="token string">'\$'</span> <span class="token comment">#正确</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>通常需要使用到转义符号的<strong>特殊字符</strong>有: <code>.</code> <code>*</code> <code>+</code> <code>(</code> <code>)</code> <code>$</code> <code>/</code> <code>\</code> <code>?</code> <code>[</code> <code>]</code> <code>^</code> <code>{</code> <code>}</code>等。</p>
<h5 id="范围匹配"><a href="#范围匹配" class="headerlink" title="范围匹配"></a>范围匹配</h5><table>
<thead>
<tr>
<th>符号</th>
<th>简述</th>
<th>举例</th>
<th>详述</th>
</tr>
</thead>
<tbody><tr>
<td>[]</td>
<td>可以匹配的字符范围列表</td>
<td>[etyu]</td>
<td>表示列表中的任意一个字符均可匹配成功</td>
</tr>
<tr>
<td>[^]</td>
<td>不可以匹配的字符范围列表</td>
<td>[^mnb]</td>
<td>表示出来列表中的字符,其他任意一个字符均可匹配成功(包括数字和特殊符号)</td>
</tr>
<tr>
<td>[-]</td>
<td>连接符号</td>
<td>[0-7]</td>
<td>表示0,1,2,3,4,5,6,7其中任意一个数字均可匹配成功。其实就相当于[01234567]只是更简写了。</td>
</tr>
</tbody></table>
<h5 id="限定符"><a href="#限定符" class="headerlink" title="限定符"></a>限定符</h5><p>用于指定前面的字符或者组合字符出现多少次。</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>举例</th>
<th>详述</th>
<th>匹配输入</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>表示字符重复0-n次(可以是0次)</td>
<td>(abc)*</td>
<td>表示为包含<code>abc</code>的任意字符串。等同于<code>\w*</code></td>
<td>‘’,abc,abcabc</td>
</tr>
<tr>
<td>+</td>
<td>表示字符重复1-n次(至少一次)</td>
<td>m+(abc)*</td>
<td>表示为字符以<code>m</code>开头,然后以0或n个<code>abc</code>结尾</td>
<td>M,mabc,mabcabc</td>
</tr>
<tr>
<td>?</td>
<td>表示匹配0个或者1个?前面类型字符.表示这个字符位置可有可无。</td>
<td>\d{3}(\d)?</td>
<td>表示可以为3位数数字,也可以为4位数。</td>
<td>123,1234</td>
</tr>
<tr>
<td>{n}</td>
<td>表示出现指定的n次。</td>
<td>\d{3}</td>
<td>表示为三个数字,等同于<code>\d\d\d</code></td>
<td>123,456,789</td>
</tr>
<tr>
<td>{n,}</td>
<td>表示至少出现n次,最多不上限。</td>
<td>\d{2,}</td>
<td>表示至少为2位数字,最多不上限</td>
<td>12,123412,21124112</td>
</tr>
<tr>
<td>{n,m}</td>
<td>表示至少出现n次,最多m次。</td>
<td>\d{1,3}</td>
<td>表示至少为1位数字,最多3位数字</td>
<td>1,12,123</td>
</tr>
</tbody></table>
<h5 id="定位符"><a href="#定位符" class="headerlink" title="定位符"></a>定位符</h5><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>举例</th>
<th>详述</th>
<th>匹配输入</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>指定起始字符</td>
<td>^[0-9]+[a-z]*</td>
<td>表示至少以一个数字开头,后面接任意个小写字母。</td>
<td>123,1dwaa,786ujw</td>
</tr>
<tr>
<td>$</td>
<td>指定结束字符</td>
<td>^\d+[a-z]+$</td>
<td>表示至少以一个数字开头,以一个小写字母结束。</td>
<td>1s,123d,1231dasw</td>
</tr>
<tr>
<td>\b</td>
<td>匹配单词边界,也就是指单词和空格间的位置</td>
<td>er\b</td>
<td>表示可以匹配”never” 中的 ‘er’，但不能匹配 “verb” 中的 ‘er’。</td>
<td>dawder,abcer</td>
</tr>
<tr>
<td>\B</td>
<td>匹配非单词边界。</td>
<td>er\B</td>
<td>表示 能匹配 “verb” 中的 ‘er’，但不能匹配 “never” 中的 ‘er’。</td>
<td>awaera,erawdsa</td>
</tr>
</tbody></table>
<hr>

<h5 id="字符匹配符"><a href="#字符匹配符" class="headerlink" title="字符匹配符"></a>字符匹配符</h5><table>
<thead>
<tr>
<th align="center">符号</th>
<th>含义</th>
<th>举例</th>
<th>详述</th>
<th>匹配输入</th>
</tr>
</thead>
<tbody><tr>
<td align="center">.</td>
<td>匹配除了换行符<code>\n</code>以外的任何字符</td>
<td>a.b</td>
<td>表示以a为开头,b为结尾,中间是任意字符的字符串</td>
<td>a2b,a%b,a9b,a.b</td>
</tr>
<tr>
<td align="center">(?i)</td>
<td>表示不区分大小写</td>
<td>(?i)[a-z]{3}</td>
<td>表示可以为三个任意字母的字符串。</td>
<td>abc,ABC,AbC</td>
</tr>
<tr>
<td align="center">?</td>
<td>指定匹配模式为非贪心匹配。</td>
<td>\d{3,7}?</td>
<td>表示尽量匹配较少的数字,3位数。</td>
<td>12345,2315,213</td>
</tr>
<tr>
<td align="center">\d</td>
<td>匹配单个数字字符。相当于[0-9]</td>
<td>\d{3}</td>
<td>表示为三位数字</td>
<td>123,456</td>
</tr>
<tr>
<td align="center">\D</td>
<td>匹配单个非数字字符。等同于<code>[^0-9]</code></td>
<td>\D(\d)*</td>
<td>表示以非数字字符开头,后面可以是任意个数字字符。</td>
<td>o1,l21,m123</td>
</tr>
<tr>
<td align="center">\w</td>
<td>匹配单个可是大小写字母、数字以及_下划线字符。等同于<code>[A-Za-z0-9_]</code></td>
<td>\w{3}</td>
<td>表示可以为三个为数字或字母或_的字符串</td>
<td>1k_</td>
</tr>
<tr>
<td align="center">\W</td>
<td>匹配单个非大小写字母、数字、_下划线字符。等同于<code>[^A-Za-z0-9_]</code></td>
<td>\W{3}</td>
<td>表示可以为三个为非数字或字母或_的字符串</td>
<td>!@#</td>
</tr>
<tr>
<td align="center">\s</td>
<td>匹配任何空白字符，包括空格、制表符、换页符等等。等同于 <code>[\f\n\r\t\v]</code></td>
<td>\s{3}</td>
<td>表示匹配为三个文本符号</td>
<td>‘   ‘</td>
</tr>
<tr>
<td align="center">\S</td>
<td>匹配任何非空白字符。等同于<code>[^ \f\n\r\t\v]</code> 与\s取反。</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td align="center">|</td>
<td>或。匹配多个字符中的任意一个。</td>
<td>a|b|c</td>
<td>表示匹配abc字符中的任意一个。</td>
<td>a,b,c</td>
</tr>
<tr>
<td align="center">()</td>
<td>对表达式进行分组,并提取该分组内匹配的文本。</td>
<td>(\d\d)(\d\d)</td>
<td>表示匹配为4个数字的字符,并且分成两组,每组两个数字.如<code>1234</code>会被提取为<code>1234</code>、<code>12</code>、<code>34</code>。</td>
<td>1234,5678</td>
</tr>
<tr>
<td align="center">(?<g1>)</g1></td>
<td>表示带有名称的分组</td>
<td>(?<g1>\d\d)</g1></td>
<td>可以根据组名进行获取匹配到的内容。</td>
<td>12,45</td>
</tr>
<tr>
<td align="center">(?:)</td>
<td>(非捕获分组)表示该表达式不进行分组</td>
<td>ab(?:c|d|e)</td>
<td>其实本质上等同于`ab(c</td>
<td>d</td>
</tr>
<tr>
<td align="center">(?=)</td>
<td>(非捕获分组) 前向断言界定符。</td>
<td></td>
<td><a href="#1001">难以描述,点击这里查看案例</a></td>
<td></td>
</tr>
<tr>
<td align="center">(?!)</td>
<td>与(?=)完全相反。排除掉指定的断言界定符。</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>案例</strong></p>
<table>
<thead>
<tr>
<th>表达式</th>
<th>详述</th>
</tr>
</thead>
<tbody><tr>
<td><code>'(?i)abc' </code></td>
<td>表示abc都不区分大小写。</td>
</tr>
<tr>
<td><code>a(?i)bc</code></td>
<td>表示bc不区分</td>
</tr>
<tr>
<td><code>a((?i)b)c</code></td>
<td>示c不区分大小写</td>
</tr>
</tbody></table>
<h5 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h5><p>分组就是把匹配到的结果按照指定的组进行分配。</p>
<p>如下,使用Java完成不分组匹配:</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">"5566"</span><span class="token punctuation">;</span>
  <span class="token comment">// 表示为没有分组</span>
  <span class="token class-name">String</span> patStr <span class="token operator">=</span> <span class="token string">"\\d\\d\\d\\d"</span><span class="token punctuation">;</span>
  <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>patStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 由于没有分组,直接获取即可。</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">5566<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果想对结果进行分成两组<code>55</code>和<code>66</code>,那么就要使用<code>()</code>对表达式进行分组,如下:</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">"5566"</span><span class="token punctuation">;</span>
  <span class="token comment">// 分成两组,每组为两个数字字符</span>
  <span class="token class-name">String</span> patStr <span class="token operator">=</span> <span class="token string">"(\\d\\d)(\\d\\d)"</span><span class="token punctuation">;</span>
  <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>patStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 索引为0的第一组,是由整个正则表达式所匹配到的文本,分组后的结果从索引1开始获取</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"未分组前的完整匹配结果:"</span> <span class="token operator">+</span> matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取第一组分组结果</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"第一组结果:"</span><span class="token operator">+</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取第二组分组结果</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"第二组结果:"</span><span class="token operator">+</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">未分组前的完整匹配结果:5566
第一组结果:55
第二组结果:66<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>这种分组被称为匿名分组。</p>
<p>分组还可以为它指定名称<code>(?&lt;组名&gt;\d)</code>,获取时可以根据组名进行获取:</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">"5566"</span><span class="token punctuation">;</span>
  <span class="token comment">// 分组四组,分别指定名称g1,g2,g3,g4</span>
  <span class="token class-name">String</span> patStr <span class="token operator">=</span> <span class="token string">"(?&lt;g1&gt;\\d)(?&lt;g2&gt;\\d)(?&lt;g3&gt;\\d)(?&lt;g4&gt;\\d)"</span><span class="token punctuation">;</span>
  <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>patStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 索引为0的第一组,是由整个正则表达式所匹配到的文本,分组后的结果从索引1开始获取</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"未分组前的完整匹配结果:"</span> <span class="token operator">+</span> matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据名称获取第一组分组结果</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"第一组结果:"</span><span class="token operator">+</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"g1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据名称获取第二组分组结果</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"第二组结果:"</span><span class="token operator">+</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"g2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据名称获取第三组分组结果</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"第三组结果:"</span><span class="token operator">+</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"g3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据名称获取第四组分组结果</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"第四组结果:"</span><span class="token operator">+</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"g4"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="反向引用"><a href="#反向引用" class="headerlink" title="反向引用"></a>反向引用</h5><p><strong>反向引用</strong>其实是建立在<strong>分组</strong>与<strong>捕获</strong>上面的,其含义就是：将以分组表达式所捕获到的<code>具体字面量</code>以字面量的形式再次引用到正则表达式之中。</p>
<p>如<code>(\\d)</code> 这就完成了一组分组,该组序号为1,反向引用关键符号为<code>\\</code>,只需要通过<code>\\组序号</code>就可以引用该分组。</p>
<p>如<code>(\\d)\\1</code>,就完成了引用,表示：第二位字符就是引用的第一个字符的分组,所以它们是一致的。</p>
<p>这个时候只有两个相同的数字才能完成匹配: 11,22,33等。</p>
<p>如果要在外部引用该分组,则通过<code>$组序号</code>引用。</p>
<h5 id="贪婪与非贪婪匹配"><a href="#贪婪与非贪婪匹配" class="headerlink" title="贪婪与非贪婪匹配"></a>贪婪与非贪婪匹配</h5><p>正则表达式默认是 <strong>贪婪匹配</strong>：也就是匹配尽可能多的字符。</p>
<p>如下所示:</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 有如下字符串</span>
<span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">"aaaaaa"</span><span class="token punctuation">;</span>
<span class="token comment">// 匹配规则：至少匹配3到4个a</span>
<span class="token class-name">String</span> matcher <span class="token operator">=</span> <span class="token string">"a{3,4}"</span><span class="token punctuation">;</span>

<span class="token comment">//默认是贪婪匹配,那么这种情况下只会匹配到 `aaaa` 4个a字符。</span>

<span class="token comment">//如果想使用非贪婪模式,只需要在匹配字符后追加上 `?`即可.</span>
<span class="token class-name">String</span> matcher <span class="token operator">=</span> <span class="token string">"a{3,4}?"</span><span class="token punctuation">;</span>

<span class="token comment">//就会得到 `aaa`3个字符为结果。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="案例合集"><a href="#案例合集" class="headerlink" title="案例合集"></a>案例合集</h5><p>**<code>(?=)</code>前向断言界定符的使用 **</p>
<p><span id="1001"></span></p>
<p>需求: 匹配<code>Windows</code>关键字,但是只匹配<code>Windows7</code>,<code>Windows8</code>中的<code>Windows</code>并且不需要携带<code>7</code>和<code>8</code>。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"Windows(?=7|8)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"WindowsXp Windows10 Windows7 Windows9 Windows8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Windows</span>
<span class="token comment">//Windows</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>校验是否为中文汉字</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 校验一个字符是否为汉字</span>
<span class="token keyword">boolean</span> matches1 <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"[\u0391-\uffe5]"</span><span class="token punctuation">,</span> <span class="token string">"满"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matches1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>

<span class="token comment">// 校验是否以汉字开头</span>
<span class="token keyword">boolean</span> matches2 <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"^[\u0391-\uffe5][a-z]+"</span><span class="token punctuation">,</span> <span class="token string">"满asa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matches2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 校验是否全部为汉字</span>
<span class="token keyword">boolean</span> matches3 <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"[\u0391-\uffe5]*"</span><span class="token punctuation">,</span> <span class="token string">"满城雪"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matches3<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>匹配连续几个相同的字符</strong></p>
<p>需要通过反向引用实现</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 匹配2个连续相同的数字</span>
<span class="token comment">// 首先进行分组,然后通过分组组序号 - `\\组序号` 进行引用一次,这样其实就相当于: 如果第一个数字是1,那么会直接将1引用到后面一次,为11</span>
<span class="token punctuation">(</span>\\d<span class="token punctuation">)</span>\\<span class="token number">1</span>
  
<span class="token comment">// 匹配4个连续相同的数字</span>
<span class="token comment">// 通过{4}连续引用4次</span>
<span class="token punctuation">(</span>\\d<span class="token punctuation">)</span>\\<span class="token number">1</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span>

<span class="token comment">// 匹配两个相同的汉字</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span>\u0391<span class="token operator">-</span>\uffe5<span class="token punctuation">]</span><span class="token punctuation">)</span>\\<span class="token number">1</span>
  
<span class="token comment">// 匹配aabb形式的字符串</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span>\u0391<span class="token operator">-</span>\uffe5<span class="token punctuation">]</span><span class="token punctuation">)</span>\\<span class="token function">1</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\u0391<span class="token operator">-</span>\uffe5<span class="token punctuation">]</span><span class="token punctuation">)</span>\\<span class="token number">2</span>
  
<span class="token comment">// 匹配aabc形式的字符串</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span>\u0391<span class="token operator">-</span>\uffe5<span class="token punctuation">]</span><span class="token punctuation">)</span>\\<span class="token number">1</span><span class="token punctuation">[</span>\u0391<span class="token operator">-</span>\uffe5<span class="token punctuation">]</span><span class="token punctuation">[</span>\u0391<span class="token operator">-</span>\uffe5<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Java正则表达式"><a href="#Java正则表达式" class="headerlink" title="Java正则表达式"></a>Java正则表达式</h4><p>Java中使用<code>Pattern</code>类处理正则表达式。</p>
<p><strong>创建Pattern类</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 根据定义的正则表达式,以及匹配规则标志构建Pattern对象</span>
<span class="token comment">// 匹配标志, 常用的如下解释</span>
<span class="token comment">// CASE_INSENSITIVE: 匹配时大小写不敏感.</span>
<span class="token comment">// MULTILINE: 启用多行模式, ^ $匹配行的开头和结尾, 而不是整个输入序列的的开头和结尾.</span>
<span class="token comment">// UNIX_LINES: 启用UNIX换行符, 在多行模式中使用^ $时只有\n被识别成终止符.</span>
<span class="token comment">// DOTALL: 在此模式中元字符.可以匹配任意字符, 包括换行符.</span>
<span class="token comment">// LITERAL: 启用模式的字面值意思, 模式中的元字符、转义字符不再具有特殊含义.</span>

<span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"^\\d{3}"</span><span class="token punctuation">,</span><span class="token class-name">Pattern</span><span class="token punctuation">.</span>CASE_INSENSITIVE<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>匹配器</strong></p>
<p>大多数操作都是基于Pattern的匹配器进行实现.</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 根据要匹配的文本字符串,生成对应的匹配器。</span>
<span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>字符串转义</strong></p>
<p>将一段字符串中的元字符或特殊符号转义为不具有特殊含义的文本。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 将字符串使用 \Q 和 \E 包裹起来并且返回</span>
<span class="token comment">// 被 \Q 和 \E 所包裹的文本内任何字符将不具有特殊含义,视为文本内容.</span>
<span class="token class-name">String</span> quote <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">quote</span><span class="token punctuation">(</span><span class="token string">".java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//输出: \Q.java\E</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>文本完整匹配</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 使用Matcher的matchers()方法 进行完整匹配</span>
<span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"\\d{4}"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"5566"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 只有 字符串与表达式完整匹配成功,才会返回true,反之false</span>
<span class="token keyword">boolean</span> matches <span class="token operator">=</span> matcher<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>

<span class="token comment">// 或者直接使用静态方法也可以</span>
<span class="token keyword">boolean</span> matches <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"\\d{4}"</span><span class="token punctuation">,</span> <span class="token string">"5566"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>或者直接通过String自带的<code>matches()</code>方法也可以,因为底层一样是通过<code>Pattern.matches()</code>实现。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">boolean</span> isSuccess <span class="token operator">=</span> <span class="token string">"5566"</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"\\d{4}"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>文本前缀匹配</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// lookingAt()方法: 将表达式与字符串首位开始匹配,如果能匹配成功则返回true,反之false。</span>
<span class="token comment">// 简单点说:就是使用正则表达式来校验字符串前缀。</span>
<span class="token comment">// 如下所示: 只有字符串是以三位数字开头时 才会返回true</span>

<span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"\\d\\d\\d"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"123s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> looking <span class="token operator">=</span> matcher<span class="token punctuation">.</span><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>文本包容匹配</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"\\d\\d\\d"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"s123s567"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// find()方法: 从文本中检索出与表达式相匹配的子字符串。并且记录子字符串的起始索引和截止索引(+1)</span>
<span class="token comment">//进行一次检索,默认起始索引为0。</span>
matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//获取当前检索到的子字符串</span>
matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 123</span>
<span class="token comment">//获取当前检索到的字符串首字符索引</span>
matcher<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token comment">// 获取当前检索到的字符串(末尾字符索引+1),下一次检索会从该索引开始</span>
matcher<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 	 <span class="token comment">// 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>一般这种匹配会使用循环体来重复检索</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"第%d次检索, 内容为:%s, 索引:%d-%d"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> matcher<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> matcher<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
  i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>结果:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">第1次检索, 内容为:123, 索引:1-4
第2次检索, 内容为:567, 索引:5-8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><code>start()</code>、<code>end()</code>、<code>group()</code>等方法必须调用过匹配方法,如<code>find()</code>、<code>lookingAt()</code>、<code>matches()</code>方法,并且返回为<code>true</code>的时候才可以调用。否则抛出异常。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取当前匹配到的子字符串起始索引</span>
matcher<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 根据匿名分组序列号获取对应分组匹配到的字符串的起始索引</span>
matcher<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 根据分组名称获取对应分组匹配到的字符串的起始索引</span>
matcher<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">"groupName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 与start()一致</span>
matcher<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
matcher<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
matcher<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">"groupName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"groupName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>限制范围匹配</strong></p>
<p>指定字符串中的某一块子字符串为可匹配范围。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 现有如下字符串</span>
<span class="token class-name">String</span> text <span class="token operator">=</span> <span class="token string">"abc1001abc"</span><span class="token punctuation">;</span>
<span class="token comment">// 有如下表达式</span>
<span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">"\\d{4}"</span><span class="token punctuation">;</span>
<span class="token comment">// 如果使用matches()匹配,那么是肯定返回false,因为是完整匹配。</span>
<span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"\\d{4}"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"abc1001abc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
matcher<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// false</span>

<span class="token comment">// 这个时候可以通过region(n,m)来指定要匹配的字符串范围.</span>
matcher<span class="token punctuation">.</span><span class="token function">region</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 表示从字符串索引3开始匹配,匹配到索引6(7-1)。也就是 'abc1001abc'中的'1001'</span>
<span class="token comment">//然后我们再次进行matches()匹配,这个时候就会匹配成功。</span>
matcher<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>字符串替换</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 将第一次出现的连续三位数字字符 替换为'AND'</span>
<span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"\\d{3}"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"abc123okids456ou5678"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> first <span class="token operator">=</span> matcher<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">"AND"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//abcANDokids456ou5678</span>


<span class="token comment">// 将全部连续三位数字字符 替换为'AND'</span>
<span class="token class-name">String</span> replaceAll <span class="token operator">=</span> matcher<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"AND"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>replaceAll<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//abcANDokidsANDouAND8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>去重</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 将连续出现的字符进行去重</span>
<span class="token comment">// 通过反向引用即可,通过`\\1` 引用第一组分组,然后`+`表示允许连续1到n个</span>
<span class="token class-name">Pattern</span> compile <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"(\\w)\\1+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Matcher</span> matcher1 <span class="token operator">=</span> compile<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">"aaabbccddwokkllp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这里开始替换 </span>
<span class="token comment">// 通过`$1`在外部获取分组内检索到的连续字符</span>
<span class="token comment">// 比如第一个连续字符`aaa`,获取到单个`a`,然后将`aaa`替换掉。</span>
<span class="token class-name">String</span> all <span class="token operator">=</span> matcher1<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"$1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//abcdwoklp</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>字符串分割</strong></p>
<p>对文本根据特定的关键字符进行分割,是经常使用到的功能,如对<code>Hello,你好呀,今天天气真不错呢,对吧</code>进行分割,显然我们只需要指定分隔符为<code>,</code>即可。</p>
<p>但是如果字符串的分隔符非常多的话,如<code>Hello,你好。请问你是哪里人呢?或许我们会成为不错的朋友!你认为呢?</code>,这种文本使用正则表达式进行分割,效果会更好。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> strings <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"(,|。|\\?|\\!|\\?)"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"Hello,你好。请问你是哪里人呢?或许我们会成为不错的朋友!你认为呢?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Hello, 你好, 请问你是哪里人呢, 或许我们会成为不错的朋友, 你认为呢]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="Python正则表达式"><a href="#Python正则表达式" class="headerlink" title="Python正则表达式"></a>Python正则表达式</h4><p>Python通过re模块提供对正则表达式的支持。使用re的一般步骤是先将正则表达式的字符串形式编译为Pattern实例，然后使用Pattern实例处理文本并获得匹配结果（一个Match实例），最后使用Match实例获得信息，进行其他的操作。</p>
<p><strong>构建pattern对象</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 构建pattern对象 规则为匹配三个数字</span>
pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"\d\d\d"</span><span class="token punctuation">)</span>

<span class="token comment"># 构建pattern对象 并且指定匹配模式:忽略字母大小写</span>
pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"\w\w\w"</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>IGNORECASE<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>re.compile(strPattern,[flag])</code>这个方法是Pattern类的工厂方法，用于将字符串形式的正则表达式编译为Pattern对象。 第二个参数flag是匹配模式，取值可以使用按位或运算符’|’表示同时生效，比如re.I | re.M。具体参数如下:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 忽略文本中的字母大小写</span>
re<span class="token punctuation">.</span>I
re<span class="token punctuation">.</span>IGNORECASE

<span class="token comment"># 多行模式，改变'^'和'$'的行为</span>
re<span class="token punctuation">.</span>M
re<span class="token punctuation">.</span>MULTILINE

<span class="token comment"># 让`.`符号 也能匹配 换行符`\n`</span>
re<span class="token punctuation">.</span>S
re<span class="token punctuation">.</span>DOTALL

<span class="token comment"># 详细模式。这个模式下正则表达式可以是多行，忽略空白字符，并可以加入注释。</span>
re<span class="token punctuation">.</span>X
re<span class="token punctuation">.</span>VERBOSE<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>Match</code>对象是一次匹配的结果,包含了许多关于本次匹配的信息。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">m <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 判断是否匹配成功</span>
<span class="token keyword">if</span> m<span class="token punctuation">:</span>
  	<span class="token comment"># 属性</span>
    <span class="token comment"># 源文本内容</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>string<span class="token punctuation">)</span>
    <span class="token comment"># 源表达式</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>re<span class="token punctuation">)</span>
    <span class="token comment"># 获取匹配成功的字符串</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 文本中正则表达式开始搜索的索引。值与Pattern.match()和Pattern.seach()方法的同名参数相同。</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>pos<span class="token punctuation">)</span>
    <span class="token comment"># 文本中正则表达式结束搜索的索引。值与Pattern.match()和Pattern.seach()方法的同名参数相同。</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>endpos<span class="token punctuation">)</span>
    <span class="token comment"># 最后一个被捕获的分组在文本中的索引。如果没有被捕获的分组，将为None。</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>lastindex<span class="token punctuation">)</span>
    <span class="token comment"># 最后一个被捕获的分组的别名。如果这个分组没有别名或者没有被捕获的分组，将为None。</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>lastgroup<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>分组</strong></p>
<p>在python中分组名称需要这样定义<code>(?P&lt;组名&gt;)</code>。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"(?P&lt;g1&gt;\d\d)(?P&lt;g2&gt;\d\d)(?P&lt;g3&gt;\d\d)"</span><span class="token punctuation">)</span>
m <span class="token operator">=</span> pattern<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> m<span class="token punctuation">:</span>
 		<span class="token comment"># 获取整个表达式匹配的子串,group()不带参数默认为group(0)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># 123456</span>

    <span class="token comment"># 根据组序号获取该组匹配的子串</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 12</span>
    <span class="token comment"># 也可以通过该方法获取多个组的匹配子串,以元组形式返回</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ('12', '34', '56')</span>

    <span class="token comment"># 根据组名进行获取</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token string">"g2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#34</span>
    <span class="token comment"># 根据多个组名获取,以元组形式返回</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token string">"g1"</span><span class="token punctuation">,</span><span class="token string">"g2"</span><span class="token punctuation">,</span><span class="token string">"g3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#('12', '34', '56')</span>

    <span class="token comment"># 根据组序号 获取该组字符起始索引</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 0</span>
    <span class="token comment"># 根据组序号 获取该组字符(结尾索引+1)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>end<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 2</span>

		<span class="token comment"># 返回指定组的起始索引和结束索引,以元组形式返回</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>span<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># (2, 4)</span>
    
    <span class="token comment">#该方法可传入一个字符串类型,在字符串中可以通过 `\组序号`或者`\g&lt;组序号&gt;`或者`\g&lt;name&gt;`引用对应的分组。</span>
    temp <span class="token operator">=</span> m<span class="token punctuation">.</span>expand<span class="token punctuation">(</span><span class="token string">r"通过反向引用获取捕获后的分组,进行文本拼接,第一组:\1, 第二组:\2, 第三组:\3"</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>文本前缀匹配</strong></p>
<p>通过<code>match(string, pos=xx,endpos=xx)</code>进行前缀匹配。</p>
<p>从文本起始位置<code>pos</code>开始匹配,若一直到截止位置<code>endpos</code>依然可匹配成功,则返回一个<code>Match</code>对象。如果中间匹配失败返回<code>None</code>。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"\d{3}"</span><span class="token punctuation">)</span>
<span class="token comment"># 通过match()方法进行匹配</span>
m <span class="token operator">=</span> pattern<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span>

<span class="token comment"># 判断是否匹配成功</span>
<span class="token keyword">if</span> m<span class="token punctuation">:</span>
    <span class="token comment"># 获取匹配成功的字符串</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#123</span>
    
<span class="token comment"># 直接通过re.match也是可以的</span>
m <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">r"\d{3}"</span><span class="token punctuation">,</span><span class="token string">"123"</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> m<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"匹配成功"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这种方式通常用来校验文本是否以某特定内容为前缀。</p>
<p><strong>文本完整匹配</strong></p>
<p>使用<code>match()</code>方法也可以进行完整匹配,只需要在表达式中追加上<code>$</code>结尾定位符。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 进行文本完整匹配</span>
pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"\d{3}$"</span><span class="token punctuation">)</span>
m <span class="token operator">=</span> pattern<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> m<span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#123</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>文本包含匹配</strong></p>
<p><code>search(string[, pos[, endpos]])</code>这个方法用于查找字符串中可以匹配成功的子串。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 匹配文本是否包含四个字母</span>
pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"[a-zA-Z]{4}"</span><span class="token punctuation">)</span>
m <span class="token operator">=</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">"1231daw321dasw3122"</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> m<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># dasw</span>

    
<span class="token comment"># 或者简写为如下</span>
m <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"[a-zA-Z]{4}"</span><span class="token punctuation">,</span><span class="token string">"1231daw321dasw3122"</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> m<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>文本分割</strong></p>
<p><strong>split(string[, maxsplit]) | re.split(pattern, string[, maxsplit]):</strong></p>
<p>按照能够匹配的子串将string分割后返回列表。maxsplit用于指定最大分割次数，不指定将全部分割。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">list</span> <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'[,。?!]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"Hello,你好。请问你是哪里人呢?或许我们会成为不错的朋友!你认为呢?"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span> <span class="token comment"># ['Hello', '你好', '请问你是哪里人呢', '或许我们会成为不错的朋友', '你认为呢', '']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>检索出所有符合匹配的子字符串</strong></p>
<p><strong>findall(string[, pos[, endpos]]) | re.findall(pattern, string[, flags]):</strong></p>
<p>搜索string，以列表形式返回全部能匹配的子串。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">nums <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"\d{3}"</span><span class="token punctuation">,</span><span class="token string">"awd123dasi456ioda8aw789"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token comment"># ['123', '456', '789']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>re还提供了另一种形式，通过迭代器进行获取全部匹配到的子串,这种方式获取到的信息会更多一些。</p>
<p><strong>finditer(string[, pos[, endpos]]) | re.finditer(pattern, string[, flags]):</strong></p>
<p>搜索string，返回一个顺序访问每一个匹配结果（Match对象）的迭代器。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">iter</span> <span class="token operator">=</span> re<span class="token punctuation">.</span>finditer<span class="token punctuation">(</span><span class="token string">r"\d{3}"</span><span class="token punctuation">,</span><span class="token string">"awd123dasi456ioda8aw789"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span>  <span class="token builtin">iter</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">123
456
789<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>文本替换</strong></p>
<p><strong>sub(repl, string[, count]) | re.sub(pattern, repl, string[, count]):</strong></p>
<p>使用repl替换string中每一个匹配的子串后返回替换后的字符串。<br>当repl是一个字符串时，可以使用\id或\g<id>、\g<name>引用分组，但不能使用编号0。<br>当repl是一个方法时，这个方法应当只接受一个参数（Match对象），并返回一个字符串用于替换（返回的字符串中不能再引用分组）。<br>count用于指定最多替换次数，不指定时全部替换。</name></id></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">
<span class="token comment"># 将所有的数字 替换为 `a`,然后返回替换后的字符串</span>
replace_str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">"\d"</span><span class="token punctuation">,</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token string">"uasiow1212ads1289js892"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>replace_str<span class="token punctuation">)</span> <span class="token comment"># uasiowaaaaadsaaaajsaaa</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>subn(repl, string[, count]) |re.sub(pattern, repl, string[, count]):</strong></p>
<p>返回 (sub(repl, string[, count]), 替换次数)。</p>
<hr>
<h4 id="Go正则表达式"><a href="#Go正则表达式" class="headerlink" title="Go正则表达式"></a>Go正则表达式</h4><p>在Go语言中,使用<code>regexp</code>模块中的<code>Regexp</code>结构体处理正则表达式相关功能。</p>
<p>正则表达式采用RE2语法（除了\c、\C），和Perl、Python等语言的正则基本一致。</p>
<p>导入</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">import</span> <span class="token string">"regexp"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>字符串匹配</strong></p>
<p>下面的三个函数都实现了同一个功能，<strong>判断字符串中是否有满足表达式规则的子字符串</strong>，有就返回true，如果解析正则出错则返回error。三者的区别在于输入源不同。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">Match</span><span class="token punctuation">(</span>pattern <span class="token builtin">string</span><span class="token punctuation">,</span> b <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>matched <span class="token builtin">bool</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">MatchString</span><span class="token punctuation">(</span>pattern <span class="token builtin">string</span><span class="token punctuation">,</span> s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>matched <span class="token builtin">bool</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">MatchReader</span><span class="token punctuation">(</span>pattern <span class="token builtin">string</span><span class="token punctuation">,</span> r io<span class="token punctuation">.</span>RuneReader<span class="token punctuation">)</span> <span class="token punctuation">(</span>matched <span class="token builtin">bool</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>举例:</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// Match(string,[]byte) 匹配文本内是否有满足表达式规则的子串,入参为字符串的字节切片</span>
<span class="token comment">// 解析失败 则 err!= nil</span>
isMatch<span class="token punctuation">,</span> err <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">Match</span><span class="token punctuation">(</span><span class="token string">"\\d{3}"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"Hello,World123 Golang"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> isMatch <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"匹配成功!"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// MatchString(string,string) 匹配文本内是否有满足表达式规则的子串,入参为字符串</span>
isMatch<span class="token punctuation">,</span> err <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MatchString</span><span class="token punctuation">(</span><span class="token string">"\\d{3}[a-zA-Z]+"</span><span class="token punctuation">,</span> <span class="token string">"789dwadjklwaaa123"</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> isMatch <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"匹配成功!"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// MatchReader(string,Reader) 匹配文本内是否有满足表达式的子串,入参为一个Reader</span>
isMatch<span class="token punctuation">,</span> err <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MatchReader</span><span class="token punctuation">(</span><span class="token string">"[a-z]{3}"</span><span class="token punctuation">,</span> bytes<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"123awe1223afs123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> isMatch <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"匹配成功!"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>同样也可以使用<code>Regexp</code>提供的方法实现:</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">isMatch <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"\\d{3}"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Match</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"Hello,World123 Golang"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
isMatch <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"\\d{3}[a-zA-Z]+"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">MatchString</span><span class="token punctuation">(</span><span class="token string">"789dwadjklwaaa123"</span><span class="token punctuation">)</span>
isMatch <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"[a-z]{3}"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">MatchReader</span><span class="token punctuation">(</span>bytes<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"123awe1223afs123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>这三个方法与上面的函数是等价的,因为上面的三个函数底层就是使用这三个方法。</p>
<p><strong>Match模式只能用来对字符串的判断，如果想要截取部分字符串、过滤字符串或者提取出符合条件的一批字符串，就应该使用更复杂的方法</strong></p>
<hr>

<p><strong>Regexp</strong></p>
<p>Regexp代表一个编译好的正则表达式。Regexp可以被多线程安全地同时使用。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">pattern<span class="token punctuation">,</span> err <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">Compile</span><span class="token punctuation">(</span><span class="token string">"[0-9]{3}"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>Compile解析并返回一个正则表达式。如果成功返回，该Regexp就可用于匹配文本。</p>
<p>在匹配文本时，该正则表达式会尽可能早的开始匹配，并且在匹配过程中选择回溯搜索到的第一个匹配结果。这种模式被称为“leftmost-first”，Perl、Python和其他实现都采用了这种模式，但本包的实现没有回溯的损耗。对POSIX的“leftmost-longest”模式，参见CompilePOSIX。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">pattern<span class="token punctuation">,</span> err <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">CompilePOSIX</span><span class="token punctuation">(</span><span class="token string">"[0-9]{3}"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>类似Compile但会将语法约束到POSIX ERE（egrep）语法，并将匹配模式设置为leftmost-longest。</p>
<p>在匹配文本时，该正则表达式会尽可能早的开始匹配，并且在匹配过程中选择搜索到的最长的匹配结果。这种模式被称为“leftmost-longest”，POSIX采用了这种模式（早期正则的DFA自动机模式）。</p>
<p>然而，可能会有多个“leftmost-longest”匹配，每个都有不同的组匹配状态，本包在这里和POSIX不同。在所有可能的“leftmost-longest”匹配里，本包选择回溯搜索时第一个找到的，而POSIX会选择候选结果中第一个组匹配最长的（可能有多个），然后再从中选出第二个组匹配最长的，依次类推。POSIX规则计算困难，甚至没有良好定义。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">pattern <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"\\d{3}"</span><span class="token punctuation">)</span>
pattern <span class="token operator">=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompilePOSIX</span><span class="token punctuation">(</span><span class="token string">"\\d{3}"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>类似于<code>Compile()和CompilePOSIX()</code>函数,区别是,如果解析表达式异常,直接panic。</p>
<p><strong>匹配并且获取子字符串</strong></p>
<ul>
<li><p>Find(b []byte) []byte</p>
<p>返回字符串字节切片中最左侧(也就是第一次出现的)符合表达式规则的子字符串字节切片,如果找不到,则返回nil。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"\\d{3}[a-z]{3}"</span><span class="token punctuation">)</span>
bytes <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"123asd-987dfs-3432fgdde"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 123asd</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>Find(s string) string</p>
<p>返回字符串中最左侧符合表达式规则的子字符串。如果找不到则返回””。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"fo.?"</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">FindString</span><span class="token punctuation">(</span><span class="token string">"qweasdxzc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// ""</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">FindString</span><span class="token punctuation">(</span><span class="token string">"sfoofooawdsa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// foo</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>FindAll(b []byte,n int)</p>
<p>方法为<code>Find()</code>的全部版本,能够指定数量,返回多个匹配到的子字符串结果。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"a{3}"</span><span class="token punctuation">)</span>
all <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"waewaaawerdfsaaawaerawsaaa"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> bytes <span class="token operator">:=</span> <span class="token keyword">range</span> all <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"找到的第%d个结果: %s \n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>FindAllString(s string,n int)</p>
<p>与<code>FindAll</code>一致,区别是入参和出参都为<code>string</code>。</p>
</li>
</ul>
<p><strong>匹配并且获取子字符串索引</strong></p>
<ul>
<li><p>FindIndex(b []byte) []int</p>
<p>返回字符串中最左侧符合表达式规则的子字符串的起始索引与(末尾索引+1).出参为int[].如果没有找到则会返回nil。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"a{3}"</span><span class="token punctuation">)</span>
index <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindIndex</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"oioaaa123wd"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token comment">// [3 6]</span>

ints <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindIndex</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"dwadasdaw"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span> <span class="token comment">// []</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意:这里的(结尾索引-1)后才是具体的子字符串结尾索引。主要是为了方便我们进行切片分割,可以直接进行切割:</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"a{3}"</span><span class="token punctuation">)</span>
index <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindIndex</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"oioaaa123wd"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token comment">// [3 6]</span>

s <span class="token operator">:=</span> <span class="token string">"oioaaa123wd"</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>index<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>index<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// aaa</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>FindStringIndex(s string) []int</p>
<p>与<code>FindIndex()</code>一致,只是入参为<code>string</code>。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"a{3}"</span><span class="token punctuation">)</span>
index <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindStringIndex</span><span class="token punctuation">(</span><span class="token string">"oioaaa123wd"</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token comment">// [3 6]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>FindReaderIndex(r reader) []int</p>
<p>与<code>FindIndex()</code>、<code>FindStringIndex()</code>一致,只是入参为<code>reader</code>。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"a{3}"</span><span class="token punctuation">)</span>	
readerIndex <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindReaderIndex</span><span class="token punctuation">(</span>bytes<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"oioaaa123wd"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>readerIndex<span class="token punctuation">)</span> <span class="token comment">// [3 6]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>FindAllStringIndex(s string,n int)</p>
<p>返回字符串中所有符合表达式规则的子字符串的起始索引和截止索引。返回一个<code>[][]int</code>二维数组。如果没有匹配到则返回nil。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"a{3}"</span><span class="token punctuation">)</span>
strIndexs <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindAllStringIndex</span><span class="token punctuation">(</span><span class="token string">"123aaa567aaa214d12aaa"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ints <span class="token operator">:=</span> <span class="token keyword">range</span> strIndexs <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"第一组子串起始索引与截止索引为：%d-%d \n"</span><span class="token punctuation">,</span> ints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>FindAllIndex(b []byte, n int)</p>
<p>与<code>FindAllStringIndex()</code>一致,只是入参为<code>[]byte</code>。</p>
</li>
</ul>
<p><strong>分组</strong></p>
<ul>
<li><p>FindSubmatch(b []byte)</p>
</li>
<li><p>FindStringSubmatch(s string)</p>
<p>该方法返回一个<code>[]string</code>切片,切片中的第一个元素为整个表达式匹配到的子串内容,后面的元素为满足分组的子字符串内容,根据分组的顺序进行排序。</p>
<p>如果一个都没匹配到,则返回nil。</p>
<p>如果表达式中没有分组,则只会返回一个元素。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"(\\d{2})(\\d{3})(\\d{4})"</span><span class="token punctuation">)</span>
groups <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindStringSubmatch</span><span class="token punctuation">(</span><span class="token string">"123456789"</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>groups<span class="token punctuation">)</span> <span class="token comment">// [123456789 12 345 6789]</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"整个表达式匹配到的内容: %s \n"</span><span class="token punctuation">,</span> groups<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"第一个分组内容: %s \n"</span><span class="token punctuation">,</span> groups<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"第二个分组内容: %s \n"</span><span class="token punctuation">,</span> groups<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"第三个分组内容: %s \n"</span><span class="token punctuation">,</span> groups<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">[123456789 12 345 6789]
整个表达式匹配到的内容: 123456789 
第一个分组内容: 12 
第二个分组内容: 345 
第三个分组内容: 6789 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>FindAllSubmatch(b []byte,n int)</p>
<p>与<code>FindSubmatch()</code>方法对应,能指定匹配次数。请参考其他All方法。</p>
</li>
<li><p>FindAllStringSubmatch(s string,n int)</p>
<p>与<code>FindStringSubmatch()</code>方法对应。能指定匹配次数。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"[a-z]{3}(\\d{2})"</span><span class="token punctuation">)</span>
groups <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">FindAllStringSubmatch</span><span class="token punctuation">(</span><span class="token string">"awd12daw789dwaaxcww67"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>groups<span class="token punctuation">)</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> group <span class="token operator">:=</span> <span class="token keyword">range</span> groups <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"第%d次匹配结果,整个匹配内容: %s, 第一组内容: %s \n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> group<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> group<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行:</p>
<pre class="line-numbers language-tex" data-language="tex"><code class="language-tex">[[awd12 12] [daw78 78] [cww67 67]]
第1次匹配结果,整个匹配内容: awd12, 第一组内容: 12 
第2次匹配结果,整个匹配内容: daw78, 第一组内容: 78 
第3次匹配结果,整个匹配内容: cww67, 第一组内容: 67 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<p><strong>替换</strong></p>
<ul>
<li><p>ReplaceAllLiteral(src []byte,newStr []byte)</p>
</li>
<li><p>ReplaceAllLiteralString(src string,newStr string)</p>
<p>将文本中符合表达式规则的子字符串全都替换为newStr。注意: 该方法无法使用正则表达式的<code>反向引用</code>,newStr中的<code>$组序号</code>不具有特殊意义。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"\\d{3}"</span><span class="token punctuation">)</span>
newStr <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">ReplaceAllLiteralString</span><span class="token punctuation">(</span><span class="token string">"abc444defg789"</span><span class="token punctuation">,</span> <span class="token string">"$1"</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span> <span class="token comment">// abc$1defg$1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>ReplaceAll(src []byte, newStr []byte)</p>
</li>
<li><p>ReplaceAllString(src string,newStr string)</p>
<p>将文本中符合表达式规则的子字符串全都替换为newStr。注意: 该方法可以通过<code>$组序号</code>进行反向引用。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"abc*"</span><span class="token punctuation">)</span>
newStr <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">ReplaceAllString</span><span class="token punctuation">(</span><span class="token string">"123abc2134abc0-d;asabc"</span><span class="token punctuation">,</span> <span class="token string">"_"</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span> <span class="token comment">// 123_2134_0-d;as_</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>ReplaceAllFunc(src []byte,repl func([]byte) []byte) []byte</p>
</li>
<li><p>ReplaceAllStringFunc(src string, repl func(string) string)</p>
<p>替换文本,参数为一个函数：函数入参和出参都是<code>string</code>,入参其实是要替换的子串,出参是替换后的子串。</p>
<p>比如说我们要对某些子字符串进行加强,追加一个<code>_</code>符号。</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">reg <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"abc*"</span><span class="token punctuation">)</span>
newStr <span class="token operator">:=</span> reg<span class="token punctuation">.</span><span class="token function">ReplaceAllStringFunc</span><span class="token punctuation">(</span><span class="token string">"123abc2134abc0-d;asabc"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> s <span class="token operator">+</span> <span class="token string">"_"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span> <span class="token comment">// 123_2134_0-d;as_</span>

<span class="token comment">// 或者将字母都转成小写</span>
reg<span class="token punctuation">.</span><span class="token function">ReplaceAllStringFunc</span><span class="token punctuation">(</span>newStr<span class="token punctuation">,</span> strings<span class="token punctuation">.</span>ToLower<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<p><strong>切割</strong></p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">s1 <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">"[,。]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">"hi,你好。今天,天气真好。对吧,嗯嗯"</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">//返回所有值</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">//  [hi 你好 今天 天气真好 对吧 嗯嗯]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>其他方法</strong></p>
<ul>
<li><p>QuoteMeat()</p>
<p>QuoteMeta返回将s中所有正则表达式元字符都进行转义后字符串。该字符串可以用在正则表达式中匹配字面值s。例如，QuoteMeta(<code>[foo]</code>)会返回<code>\[foo\]</code>。</p>
</li>
<li><p>String() string </p>
<p>返回用于编译成正则表达式的字符串</p>
</li>
<li><p>NumSubexp() int</p>
<p>返回此正则表达式中带括号的子表达式的数量。</p>
</li>
<li><p>SubexpNames() []string</p>
<p>SubexpNames返回该正则表达式中捕获分组的名字。第一个分组的名字是names[1]。因为整个正则表达式是无法被命名的，names[0]必然是空字符串。</p>
</li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Zero</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://zlx2019.github.io/2022/12/26/Python%E3%80%90%E4%B8%80%E3%80%91%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/">https://zlx2019.github.io/2022/12/26/Python%E3%80%90%E4%B8%80%E3%80%91%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Zero</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Python/">
                                    <span class="chip bg-color">Python</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/01/10/Git%E7%9A%84%E4%BD%BF%E7%94%A8/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/5.jpg" class="responsive-img" alt="Git的使用">
                        
                        <span class="card-title">Git的使用</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-01-10
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Git/" class="post-category">
                                    Git
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Git/">
                        <span class="chip bg-color">Git</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/07/18/Java%E3%80%90%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%90%88%E9%9B%86%E8%AF%A6%E8%A7%A3%E3%80%91/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/13.jpg" class="responsive-img" alt="Java【工具类合集详解】">
                        
                        <span class="card-title">Java【工具类合集详解】</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-07-18
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Zero
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/">
                        <span class="chip bg-color">工具类</span>
                    </a>
                    
                    <a href="/tags/IO/">
                        <span class="chip bg-color">IO</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




<footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="41220530"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021-2023</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">Zero</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">219.8k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "4";
                    var startDate = "10";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/zlx2019" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1143967454@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1143967454" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1143967454" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


<script src="/libs/materialize/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Baidu Analytics -->

<!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>


    <script src="/libs/others/clicklove.js" async="async"></script>


    <script async src="/libs/others/busuanzi.pure.mini.js"></script>










    
    <script type="text/javascript" size="150" alpha='0.6'
            zIndex="-1" src="/libs/background/ribbon-refresh.min.js"
            async="async"></script>



    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js"
            async="async"></script>



    <script src="/libs/instantpage/instantpage.js" type="module"></script>


<!-- 樱花特效 -->


<!--鼠标移动雪花特效-->


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
